bf1e759034915896c525f6106fdb7d1c













'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _require=

require('./AnimatedEvent'),AnimatedEvent=_require.AnimatedEvent,attachNativeEvent=_require.attachNativeEvent;
var AnimatedAddition=require('./nodes/AnimatedAddition');
var AnimatedDiffClamp=require('./nodes/AnimatedDiffClamp');
var AnimatedDivision=require('./nodes/AnimatedDivision');
var AnimatedInterpolation=require('./nodes/AnimatedInterpolation');
var AnimatedModulo=require('./nodes/AnimatedModulo');
var AnimatedMultiplication=require('./nodes/AnimatedMultiplication');
var AnimatedNode=require('./nodes/AnimatedNode');
var AnimatedProps=require('./nodes/AnimatedProps');
var AnimatedTracking=require('./nodes/AnimatedTracking');
var AnimatedValue=require('./nodes/AnimatedValue');
var AnimatedValueXY=require('./nodes/AnimatedValueXY');
var DecayAnimation=require('./animations/DecayAnimation');
var SpringAnimation=require('./animations/SpringAnimation');
var TimingAnimation=require('./animations/TimingAnimation');

var createAnimatedComponent=require('./createAnimatedComponent');



















var add=function add(
a,
b)
{
return new AnimatedAddition(a,b);
};

var divide=function divide(
a,
b)
{
return new AnimatedDivision(a,b);
};

var multiply=function multiply(
a,
b)
{
return new AnimatedMultiplication(a,b);
};

var modulo=function modulo(a,modulus){
return new AnimatedModulo(a,modulus);
};

var diffClamp=function diffClamp(
a,
min,
max)
{
return new AnimatedDiffClamp(a,min,max);
};

var _combineCallbacks=function _combineCallbacks(
callback,
config)
{
if(callback&&config.onComplete){
return function(){
config.onComplete&&config.onComplete.apply(config,arguments);
callback&&callback.apply(undefined,arguments);
};
}else{
return callback||config.onComplete;
}
};

var maybeVectorAnim=function maybeVectorAnim(
value,
config,
anim)
{
if(value instanceof AnimatedValueXY){
var configX=_extends({},config);
var configY=_extends({},config);
for(var key in config){var _config$key=
config[key],x=_config$key.x,y=_config$key.y;
if(x!==undefined&&y!==undefined){
configX[key]=x;
configY[key]=y;
}
}
var aX=anim(value.x,configX);
var aY=anim(value.y,configY);


return parallel([aX,aY],{stopTogether:false});
}
return null;
};

var spring=function spring(
value,
config)
{
var start=function start(
animatedValue,
configuration,
callback)
{
callback=_combineCallbacks(callback,configuration);
var singleValue=animatedValue;
var singleConfig=configuration;
singleValue.stopTracking();
if(configuration.toValue instanceof AnimatedNode){
singleValue.track(
new AnimatedTracking(
singleValue,
configuration.toValue,
SpringAnimation,
singleConfig,
callback));


}else{
singleValue.animate(new SpringAnimation(singleConfig),callback);
}
};
return(
maybeVectorAnim(value,config,spring)||{
start:function(_start){function start(_x){return _start.apply(this,arguments);}start.toString=function(){return _start.toString();};return start;}(function(callback){
start(value,config,callback);
}),

stop:function stop(){
value.stopAnimation();
},

reset:function reset(){
value.resetAnimation();
},

_startNativeLoop:function _startNativeLoop(iterations){
var singleConfig=_extends({},config,{iterations:iterations});
start(value,singleConfig);
},

_isUsingNativeDriver:function _isUsingNativeDriver(){
return config.useNativeDriver||false;
}});


};

var timing=function timing(
value,
config)
{
var start=function start(
animatedValue,
configuration,
callback)
{
callback=_combineCallbacks(callback,configuration);
var singleValue=animatedValue;
var singleConfig=configuration;
singleValue.stopTracking();
if(configuration.toValue instanceof AnimatedNode){
singleValue.track(
new AnimatedTracking(
singleValue,
configuration.toValue,
TimingAnimation,
singleConfig,
callback));


}else{
singleValue.animate(new TimingAnimation(singleConfig),callback);
}
};

return(
maybeVectorAnim(value,config,timing)||{
start:function(_start2){function start(_x2){return _start2.apply(this,arguments);}start.toString=function(){return _start2.toString();};return start;}(function(callback){
start(value,config,callback);
}),

stop:function stop(){
value.stopAnimation();
},

reset:function reset(){
value.resetAnimation();
},

_startNativeLoop:function _startNativeLoop(iterations){
var singleConfig=_extends({},config,{iterations:iterations});
start(value,singleConfig);
},

_isUsingNativeDriver:function _isUsingNativeDriver(){
return config.useNativeDriver||false;
}});


};

var decay=function decay(
value,
config)
{
var start=function start(
animatedValue,
configuration,
callback)
{
callback=_combineCallbacks(callback,configuration);
var singleValue=animatedValue;
var singleConfig=configuration;
singleValue.stopTracking();
singleValue.animate(new DecayAnimation(singleConfig),callback);
};

return(
maybeVectorAnim(value,config,decay)||{
start:function(_start3){function start(_x3){return _start3.apply(this,arguments);}start.toString=function(){return _start3.toString();};return start;}(function(callback){
start(value,config,callback);
}),

stop:function stop(){
value.stopAnimation();
},

reset:function reset(){
value.resetAnimation();
},

_startNativeLoop:function _startNativeLoop(iterations){
var singleConfig=_extends({},config,{iterations:iterations});
start(value,singleConfig);
},

_isUsingNativeDriver:function _isUsingNativeDriver(){
return config.useNativeDriver||false;
}});


};

var sequence=function sequence(
animations)
{
var current=0;
return{
start:function start(callback){
var onComplete=function onComplete(result){
if(!result.finished){
callback&&callback(result);
return;
}

current++;

if(current===animations.length){
callback&&callback(result);
return;
}

animations[current].start(onComplete);
};

if(animations.length===0){
callback&&callback({finished:true});
}else{
animations[current].start(onComplete);
}
},

stop:function stop(){
if(current<animations.length){
animations[current].stop();
}
},

reset:function reset(){
animations.forEach(function(animation,idx){
if(idx<=current){
animation.reset();
}
});
current=0;
},

_startNativeLoop:function _startNativeLoop(){
throw new Error(
'Loops run using the native driver cannot contain Animated.sequence animations');

},

_isUsingNativeDriver:function _isUsingNativeDriver(){
return false;
}};

};




var parallel=function parallel(
animations,
config)
{
var doneCount=0;

var hasEnded={};
var stopTogether=!(config&&config.stopTogether===false);

var result={
start:function start(callback){
if(doneCount===animations.length){
callback&&callback({finished:true});
return;
}

animations.forEach(function(animation,idx){
var cb=function cb(endResult){
hasEnded[idx]=true;
doneCount++;
if(doneCount===animations.length){
doneCount=0;
callback&&callback(endResult);
return;
}

if(!endResult.finished&&stopTogether){
result.stop();
}
};

if(!animation){
cb({finished:true});
}else{
animation.start(cb);
}
});
},

stop:function stop(){
animations.forEach(function(animation,idx){
!hasEnded[idx]&&animation.stop();
hasEnded[idx]=true;
});
},

reset:function reset(){
animations.forEach(function(animation,idx){
animation.reset();
hasEnded[idx]=false;
doneCount=0;
});
},

_startNativeLoop:function _startNativeLoop(){
throw new Error(
'Loops run using the native driver cannot contain Animated.parallel animations');

},

_isUsingNativeDriver:function _isUsingNativeDriver(){
return false;
}};


return result;
};

var delay=function delay(time){

return timing(new AnimatedValue(0),{toValue:0,delay:time,duration:0});
};

var stagger=function stagger(
time,
animations)
{
return parallel(
animations.map(function(animation,i){
return sequence([delay(time*i),animation]);
}));

};



var loop=function loop(
animation)

{var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$iterations=_ref.iterations,iterations=_ref$iterations===undefined?-1:_ref$iterations;
var isFinished=false;
var iterationsSoFar=0;
return{
start:function start(callback){
var restart=function restart(){var result=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{finished:true};
if(
isFinished||
iterationsSoFar===iterations||
result.finished===false)
{
callback&&callback(result);
}else{
iterationsSoFar++;
animation.reset();
animation.start(restart);
}
};
if(!animation||iterations===0){
callback&&callback({finished:true});
}else{
if(animation._isUsingNativeDriver()){
animation._startNativeLoop(iterations);
}else{
restart();
}
}
},

stop:function stop(){
isFinished=true;
animation.stop();
},

reset:function reset(){
iterationsSoFar=0;
isFinished=false;
animation.reset();
},

_startNativeLoop:function _startNativeLoop(){
throw new Error(
'Loops run using the native driver cannot contain Animated.loop animations');

},

_isUsingNativeDriver:function _isUsingNativeDriver(){
return animation._isUsingNativeDriver();
}};

};

function forkEvent(
event,
listener)
{
if(!event){
return listener;
}else if(event instanceof AnimatedEvent){
event.__addListener(listener);
return event;
}else{
return function(){
typeof event==='function'&&event.apply(undefined,arguments);
listener.apply(undefined,arguments);
};
}
}

function unforkEvent(
event,
listener)
{
if(event&&event instanceof AnimatedEvent){
event.__removeListener(listener);
}
}

var event=function event(argMapping,config){
var animatedEvent=new AnimatedEvent(argMapping,config);
if(animatedEvent.__isNative){
return animatedEvent;
}else{
return animatedEvent.__getHandler();
}
};


































































































































































module.exports={






Value:AnimatedValue,





ValueXY:AnimatedValueXY,





Interpolation:AnimatedInterpolation,



Node:AnimatedNode,













decay:decay,















timing:timing,















































spring:spring,





add:add,





divide:divide,





multiply:multiply,





modulo:modulo,










diffClamp:diffClamp,




delay:delay,





sequence:sequence,





parallel:parallel,




stagger:stagger,









loop:loop,























event:event,




createAnimatedComponent:createAnimatedComponent,





attachNativeEvent:attachNativeEvent,





forkEvent:forkEvent,
unforkEvent:unforkEvent,

__PropsOnlyForTests:AnimatedProps};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkSW1wbGVtZW50YXRpb24uanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIkFuaW1hdGVkRXZlbnQiLCJhdHRhY2hOYXRpdmVFdmVudCIsIkFuaW1hdGVkQWRkaXRpb24iLCJBbmltYXRlZERpZmZDbGFtcCIsIkFuaW1hdGVkRGl2aXNpb24iLCJBbmltYXRlZEludGVycG9sYXRpb24iLCJBbmltYXRlZE1vZHVsbyIsIkFuaW1hdGVkTXVsdGlwbGljYXRpb24iLCJBbmltYXRlZE5vZGUiLCJBbmltYXRlZFByb3BzIiwiQW5pbWF0ZWRUcmFja2luZyIsIkFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZFZhbHVlWFkiLCJEZWNheUFuaW1hdGlvbiIsIlNwcmluZ0FuaW1hdGlvbiIsIlRpbWluZ0FuaW1hdGlvbiIsImNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50IiwiYWRkIiwiYSIsImIiLCJkaXZpZGUiLCJtdWx0aXBseSIsIm1vZHVsbyIsIm1vZHVsdXMiLCJkaWZmQ2xhbXAiLCJtaW4iLCJtYXgiLCJfY29tYmluZUNhbGxiYWNrcyIsImNhbGxiYWNrIiwiY29uZmlnIiwib25Db21wbGV0ZSIsIm1heWJlVmVjdG9yQW5pbSIsInZhbHVlIiwiYW5pbSIsImNvbmZpZ1giLCJjb25maWdZIiwia2V5IiwieCIsInkiLCJ1bmRlZmluZWQiLCJhWCIsImFZIiwicGFyYWxsZWwiLCJzdG9wVG9nZXRoZXIiLCJzcHJpbmciLCJzdGFydCIsImFuaW1hdGVkVmFsdWUiLCJjb25maWd1cmF0aW9uIiwic2luZ2xlVmFsdWUiLCJzaW5nbGVDb25maWciLCJzdG9wVHJhY2tpbmciLCJ0b1ZhbHVlIiwidHJhY2siLCJhbmltYXRlIiwic3RvcCIsInN0b3BBbmltYXRpb24iLCJyZXNldCIsInJlc2V0QW5pbWF0aW9uIiwiX3N0YXJ0TmF0aXZlTG9vcCIsIml0ZXJhdGlvbnMiLCJfaXNVc2luZ05hdGl2ZURyaXZlciIsInVzZU5hdGl2ZURyaXZlciIsInRpbWluZyIsImRlY2F5Iiwic2VxdWVuY2UiLCJhbmltYXRpb25zIiwiY3VycmVudCIsInJlc3VsdCIsImZpbmlzaGVkIiwibGVuZ3RoIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlkeCIsIkVycm9yIiwiZG9uZUNvdW50IiwiaGFzRW5kZWQiLCJjYiIsImVuZFJlc3VsdCIsImRlbGF5IiwidGltZSIsImR1cmF0aW9uIiwic3RhZ2dlciIsIm1hcCIsImkiLCJsb29wIiwiaXNGaW5pc2hlZCIsIml0ZXJhdGlvbnNTb0ZhciIsInJlc3RhcnQiLCJmb3JrRXZlbnQiLCJldmVudCIsImxpc3RlbmVyIiwiX19hZGRMaXN0ZW5lciIsInVuZm9ya0V2ZW50IiwiX19yZW1vdmVMaXN0ZW5lciIsImFyZ01hcHBpbmciLCJhbmltYXRlZEV2ZW50IiwiX19pc05hdGl2ZSIsIl9fZ2V0SGFuZGxlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJWYWx1ZSIsIlZhbHVlWFkiLCJJbnRlcnBvbGF0aW9uIiwiTm9kZSIsIl9fUHJvcHNPbmx5Rm9yVGVzdHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFhQSxhOztBQUUyQ0EsUUFBUSxpQkFBUixDLENBQXBDQyxhLFVBQUFBLGEsQ0FBZUMsaUIsVUFBQUEsaUI7QUFDdEIsR0FBTUMsa0JBQW1CSCxRQUFRLDBCQUFSLENBQXpCO0FBQ0EsR0FBTUksbUJBQW9CSixRQUFRLDJCQUFSLENBQTFCO0FBQ0EsR0FBTUssa0JBQW1CTCxRQUFRLDBCQUFSLENBQXpCO0FBQ0EsR0FBTU0sdUJBQXdCTixRQUFRLCtCQUFSLENBQTlCO0FBQ0EsR0FBTU8sZ0JBQWlCUCxRQUFRLHdCQUFSLENBQXZCO0FBQ0EsR0FBTVEsd0JBQXlCUixRQUFRLGdDQUFSLENBQS9CO0FBQ0EsR0FBTVMsY0FBZVQsUUFBUSxzQkFBUixDQUFyQjtBQUNBLEdBQU1VLGVBQWdCVixRQUFRLHVCQUFSLENBQXRCO0FBQ0EsR0FBTVcsa0JBQW1CWCxRQUFRLDBCQUFSLENBQXpCO0FBQ0EsR0FBTVksZUFBZ0JaLFFBQVEsdUJBQVIsQ0FBdEI7QUFDQSxHQUFNYSxpQkFBa0JiLFFBQVEseUJBQVIsQ0FBeEI7QUFDQSxHQUFNYyxnQkFBaUJkLFFBQVEsNkJBQVIsQ0FBdkI7QUFDQSxHQUFNZSxpQkFBa0JmLFFBQVEsOEJBQVIsQ0FBeEI7QUFDQSxHQUFNZ0IsaUJBQWtCaEIsUUFBUSw4QkFBUixDQUF4Qjs7QUFFQSxHQUFNaUIseUJBQTBCakIsUUFBUSwyQkFBUixDQUFoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQkEsR0FBTWtCLEtBQU0sUUFBTkEsSUFBTTtBQUNWQyxDQURVO0FBRVZDLENBRlU7QUFHUTtBQUNsQixNQUFPLElBQUlqQixpQkFBSixDQUFxQmdCLENBQXJCLENBQXdCQyxDQUF4QixDQUFQO0FBQ0QsQ0FMRDs7QUFPQSxHQUFNQyxRQUFTLFFBQVRBLE9BQVM7QUFDYkYsQ0FEYTtBQUViQyxDQUZhO0FBR0s7QUFDbEIsTUFBTyxJQUFJZixpQkFBSixDQUFxQmMsQ0FBckIsQ0FBd0JDLENBQXhCLENBQVA7QUFDRCxDQUxEOztBQU9BLEdBQU1FLFVBQVcsUUFBWEEsU0FBVztBQUNmSCxDQURlO0FBRWZDLENBRmU7QUFHUztBQUN4QixNQUFPLElBQUlaLHVCQUFKLENBQTJCVyxDQUEzQixDQUE4QkMsQ0FBOUIsQ0FBUDtBQUNELENBTEQ7O0FBT0EsR0FBTUcsUUFBUyxRQUFUQSxPQUFTLENBQVNKLENBQVQsQ0FBMEJLLE9BQTFCLENBQTJEO0FBQ3hFLE1BQU8sSUFBSWpCLGVBQUosQ0FBbUJZLENBQW5CLENBQXNCSyxPQUF0QixDQUFQO0FBQ0QsQ0FGRDs7QUFJQSxHQUFNQyxXQUFZLFFBQVpBLFVBQVk7QUFDaEJOLENBRGdCO0FBRWhCTyxHQUZnQjtBQUdoQkMsR0FIZ0I7QUFJRztBQUNuQixNQUFPLElBQUl2QixrQkFBSixDQUFzQmUsQ0FBdEIsQ0FBeUJPLEdBQXpCLENBQThCQyxHQUE5QixDQUFQO0FBQ0QsQ0FORDs7QUFRQSxHQUFNQyxtQkFBb0IsUUFBcEJBLGtCQUFvQjtBQUN4QkMsUUFEd0I7QUFFeEJDLE1BRndCO0FBR3hCO0FBQ0EsR0FBSUQsVUFBWUMsT0FBT0MsVUFBdkIsQ0FBbUM7QUFDakMsTUFBTyxXQUFhO0FBQ2xCRCxPQUFPQyxVQUFQLEVBQXFCRCxPQUFPQyxVQUFQLHdCQUFyQjtBQUNBRixVQUFZQSxtQ0FBWjtBQUNELENBSEQ7QUFJRCxDQUxELElBS087QUFDTCxNQUFPQSxXQUFZQyxPQUFPQyxVQUExQjtBQUNEO0FBQ0YsQ0FaRDs7QUFjQSxHQUFNQyxpQkFBa0IsUUFBbEJBLGdCQUFrQjtBQUN0QkMsS0FEc0I7QUFFdEJILE1BRnNCO0FBR3RCSSxJQUhzQjtBQUlEO0FBQ3JCLEdBQUlELGdCQUFpQnBCLGdCQUFyQixDQUFzQztBQUNwQyxHQUFNc0IscUJBQWNMLE1BQWQsQ0FBTjtBQUNBLEdBQU1NLHFCQUFjTixNQUFkLENBQU47QUFDQSxJQUFLLEdBQU1PLElBQVgsR0FBa0JQLE9BQWxCLENBQTBCO0FBQ1RBLE9BQU9PLEdBQVAsQ0FEUyxDQUNqQkMsQ0FEaUIsYUFDakJBLENBRGlCLENBQ2RDLENBRGMsYUFDZEEsQ0FEYztBQUV4QixHQUFJRCxJQUFNRSxTQUFOLEVBQW1CRCxJQUFNQyxTQUE3QixDQUF3QztBQUN0Q0wsUUFBUUUsR0FBUixFQUFlQyxDQUFmO0FBQ0FGLFFBQVFDLEdBQVIsRUFBZUUsQ0FBZjtBQUNEO0FBQ0Y7QUFDRCxHQUFNRSxJQUFLUCxLQUFNRCxLQUFELENBQXlCSyxDQUE5QixDQUFpQ0gsT0FBakMsQ0FBWDtBQUNBLEdBQU1PLElBQUtSLEtBQU1ELEtBQUQsQ0FBeUJNLENBQTlCLENBQWlDSCxPQUFqQyxDQUFYOzs7QUFHQSxNQUFPTyxVQUFTLENBQUNGLEVBQUQsQ0FBS0MsRUFBTCxDQUFULENBQW1CLENBQUNFLGFBQWMsS0FBZixDQUFuQixDQUFQO0FBQ0Q7QUFDRCxNQUFPLEtBQVA7QUFDRCxDQXRCRDs7QUF3QkEsR0FBTUMsUUFBUyxRQUFUQSxPQUFTO0FBQ2JaLEtBRGE7QUFFYkgsTUFGYTtBQUdPO0FBQ3BCLEdBQU1nQixPQUFRLFFBQVJBLE1BQVE7QUFDWkMsYUFEWTtBQUVaQyxhQUZZO0FBR1puQixRQUhZO0FBSU47QUFDTkEsU0FBV0Qsa0JBQWtCQyxRQUFsQixDQUE0Qm1CLGFBQTVCLENBQVg7QUFDQSxHQUFNQyxhQUFtQkYsYUFBekI7QUFDQSxHQUFNRyxjQUFvQkYsYUFBMUI7QUFDQUMsWUFBWUUsWUFBWjtBQUNBLEdBQUlILGNBQWNJLE9BQWQsV0FBaUMzQyxhQUFyQyxDQUFtRDtBQUNqRHdDLFlBQVlJLEtBQVo7QUFDRSxHQUFJMUMsaUJBQUo7QUFDRXNDLFdBREY7QUFFRUQsY0FBY0ksT0FGaEI7QUFHRXJDLGVBSEY7QUFJRW1DLFlBSkY7QUFLRXJCLFFBTEYsQ0FERjs7O0FBU0QsQ0FWRCxJQVVPO0FBQ0xvQixZQUFZSyxPQUFaLENBQW9CLEdBQUl2QyxnQkFBSixDQUFvQm1DLFlBQXBCLENBQXBCLENBQXVEckIsUUFBdkQ7QUFDRDtBQUNGLENBdEJEO0FBdUJBO0FBQ0VHLGdCQUFnQkMsS0FBaEIsQ0FBdUJILE1BQXZCLENBQStCZSxNQUEvQixHQUEwQztBQUN4Q0MsbUpBQU8sU0FBU2pCLFFBQVQsQ0FBd0M7QUFDN0NpQixNQUFNYixLQUFOLENBQWFILE1BQWIsQ0FBcUJELFFBQXJCO0FBQ0QsQ0FGRCxDQUR3Qzs7QUFLeEMwQixLQUFNLGVBQWlCO0FBQ3JCdEIsTUFBTXVCLGFBQU47QUFDRCxDQVB1Qzs7QUFTeENDLE1BQU8sZ0JBQWlCO0FBQ3RCeEIsTUFBTXlCLGNBQU47QUFDRCxDQVh1Qzs7QUFheENDLGlCQUFrQiwwQkFBU0MsVUFBVCxDQUFvQztBQUNwRCxHQUFNViwwQkFBbUJwQixNQUFuQixFQUEyQjhCLHFCQUEzQixFQUFOO0FBQ0FkLE1BQU1iLEtBQU4sQ0FBYWlCLFlBQWI7QUFDRCxDQWhCdUM7O0FBa0J4Q1cscUJBQXNCLCtCQUFvQjtBQUN4QyxNQUFPL0IsUUFBT2dDLGVBQVAsRUFBMEIsS0FBakM7QUFDRCxDQXBCdUMsQ0FENUM7OztBQXdCRCxDQW5ERDs7QUFxREEsR0FBTUMsUUFBUyxRQUFUQSxPQUFTO0FBQ2I5QixLQURhO0FBRWJILE1BRmE7QUFHTztBQUNwQixHQUFNZ0IsT0FBUSxRQUFSQSxNQUFRO0FBQ1pDLGFBRFk7QUFFWkMsYUFGWTtBQUdabkIsUUFIWTtBQUlOO0FBQ05BLFNBQVdELGtCQUFrQkMsUUFBbEIsQ0FBNEJtQixhQUE1QixDQUFYO0FBQ0EsR0FBTUMsYUFBbUJGLGFBQXpCO0FBQ0EsR0FBTUcsY0FBb0JGLGFBQTFCO0FBQ0FDLFlBQVlFLFlBQVo7QUFDQSxHQUFJSCxjQUFjSSxPQUFkLFdBQWlDM0MsYUFBckMsQ0FBbUQ7QUFDakR3QyxZQUFZSSxLQUFaO0FBQ0UsR0FBSTFDLGlCQUFKO0FBQ0VzQyxXQURGO0FBRUVELGNBQWNJLE9BRmhCO0FBR0VwQyxlQUhGO0FBSUVrQyxZQUpGO0FBS0VyQixRQUxGLENBREY7OztBQVNELENBVkQsSUFVTztBQUNMb0IsWUFBWUssT0FBWixDQUFvQixHQUFJdEMsZ0JBQUosQ0FBb0JrQyxZQUFwQixDQUFwQixDQUF1RHJCLFFBQXZEO0FBQ0Q7QUFDRixDQXRCRDs7QUF3QkE7QUFDRUcsZ0JBQWdCQyxLQUFoQixDQUF1QkgsTUFBdkIsQ0FBK0JpQyxNQUEvQixHQUEwQztBQUN4Q2pCLHVKQUFPLFNBQVNqQixRQUFULENBQXdDO0FBQzdDaUIsTUFBTWIsS0FBTixDQUFhSCxNQUFiLENBQXFCRCxRQUFyQjtBQUNELENBRkQsQ0FEd0M7O0FBS3hDMEIsS0FBTSxlQUFpQjtBQUNyQnRCLE1BQU11QixhQUFOO0FBQ0QsQ0FQdUM7O0FBU3hDQyxNQUFPLGdCQUFpQjtBQUN0QnhCLE1BQU15QixjQUFOO0FBQ0QsQ0FYdUM7O0FBYXhDQyxpQkFBa0IsMEJBQVNDLFVBQVQsQ0FBb0M7QUFDcEQsR0FBTVYsMEJBQW1CcEIsTUFBbkIsRUFBMkI4QixxQkFBM0IsRUFBTjtBQUNBZCxNQUFNYixLQUFOLENBQWFpQixZQUFiO0FBQ0QsQ0FoQnVDOztBQWtCeENXLHFCQUFzQiwrQkFBb0I7QUFDeEMsTUFBTy9CLFFBQU9nQyxlQUFQLEVBQTBCLEtBQWpDO0FBQ0QsQ0FwQnVDLENBRDVDOzs7QUF3QkQsQ0FwREQ7O0FBc0RBLEdBQU1FLE9BQVEsUUFBUkEsTUFBUTtBQUNaL0IsS0FEWTtBQUVaSCxNQUZZO0FBR1E7QUFDcEIsR0FBTWdCLE9BQVEsUUFBUkEsTUFBUTtBQUNaQyxhQURZO0FBRVpDLGFBRlk7QUFHWm5CLFFBSFk7QUFJTjtBQUNOQSxTQUFXRCxrQkFBa0JDLFFBQWxCLENBQTRCbUIsYUFBNUIsQ0FBWDtBQUNBLEdBQU1DLGFBQW1CRixhQUF6QjtBQUNBLEdBQU1HLGNBQW9CRixhQUExQjtBQUNBQyxZQUFZRSxZQUFaO0FBQ0FGLFlBQVlLLE9BQVosQ0FBb0IsR0FBSXhDLGVBQUosQ0FBbUJvQyxZQUFuQixDQUFwQixDQUFzRHJCLFFBQXREO0FBQ0QsQ0FWRDs7QUFZQTtBQUNFRyxnQkFBZ0JDLEtBQWhCLENBQXVCSCxNQUF2QixDQUErQmtDLEtBQS9CLEdBQXlDO0FBQ3ZDbEIsdUpBQU8sU0FBU2pCLFFBQVQsQ0FBd0M7QUFDN0NpQixNQUFNYixLQUFOLENBQWFILE1BQWIsQ0FBcUJELFFBQXJCO0FBQ0QsQ0FGRCxDQUR1Qzs7QUFLdkMwQixLQUFNLGVBQWlCO0FBQ3JCdEIsTUFBTXVCLGFBQU47QUFDRCxDQVBzQzs7QUFTdkNDLE1BQU8sZ0JBQWlCO0FBQ3RCeEIsTUFBTXlCLGNBQU47QUFDRCxDQVhzQzs7QUFhdkNDLGlCQUFrQiwwQkFBU0MsVUFBVCxDQUFvQztBQUNwRCxHQUFNViwwQkFBbUJwQixNQUFuQixFQUEyQjhCLHFCQUEzQixFQUFOO0FBQ0FkLE1BQU1iLEtBQU4sQ0FBYWlCLFlBQWI7QUFDRCxDQWhCc0M7O0FBa0J2Q1cscUJBQXNCLCtCQUFvQjtBQUN4QyxNQUFPL0IsUUFBT2dDLGVBQVAsRUFBMEIsS0FBakM7QUFDRCxDQXBCc0MsQ0FEM0M7OztBQXdCRCxDQXhDRDs7QUEwQ0EsR0FBTUcsVUFBVyxRQUFYQSxTQUFXO0FBQ2ZDLFVBRGU7QUFFSztBQUNwQixHQUFJQyxTQUFVLENBQWQ7QUFDQSxNQUFPO0FBQ0xyQixNQUFPLGVBQVNqQixRQUFULENBQWtDO0FBQ3ZDLEdBQU1FLFlBQWEsUUFBYkEsV0FBYSxDQUFTcUMsTUFBVCxDQUFpQjtBQUNsQyxHQUFJLENBQUNBLE9BQU9DLFFBQVosQ0FBc0I7QUFDcEJ4QyxVQUFZQSxTQUFTdUMsTUFBVCxDQUFaO0FBQ0E7QUFDRDs7QUFFREQ7O0FBRUEsR0FBSUEsVUFBWUQsV0FBV0ksTUFBM0IsQ0FBbUM7QUFDakN6QyxVQUFZQSxTQUFTdUMsTUFBVCxDQUFaO0FBQ0E7QUFDRDs7QUFFREYsV0FBV0MsT0FBWCxFQUFvQnJCLEtBQXBCLENBQTBCZixVQUExQjtBQUNELENBZEQ7O0FBZ0JBLEdBQUltQyxXQUFXSSxNQUFYLEdBQXNCLENBQTFCLENBQTZCO0FBQzNCekMsVUFBWUEsU0FBUyxDQUFDd0MsU0FBVSxJQUFYLENBQVQsQ0FBWjtBQUNELENBRkQsSUFFTztBQUNMSCxXQUFXQyxPQUFYLEVBQW9CckIsS0FBcEIsQ0FBMEJmLFVBQTFCO0FBQ0Q7QUFDRixDQXZCSTs7QUF5Qkx3QixLQUFNLGVBQVc7QUFDZixHQUFJWSxRQUFVRCxXQUFXSSxNQUF6QixDQUFpQztBQUMvQkosV0FBV0MsT0FBWCxFQUFvQlosSUFBcEI7QUFDRDtBQUNGLENBN0JJOztBQStCTEUsTUFBTyxnQkFBVztBQUNoQlMsV0FBV0ssT0FBWCxDQUFtQixTQUFDQyxTQUFELENBQVlDLEdBQVosQ0FBb0I7QUFDckMsR0FBSUEsS0FBT04sT0FBWCxDQUFvQjtBQUNsQkssVUFBVWYsS0FBVjtBQUNEO0FBQ0YsQ0FKRDtBQUtBVSxRQUFVLENBQVY7QUFDRCxDQXRDSTs7QUF3Q0xSLGlCQUFrQiwyQkFBVztBQUMzQixLQUFNLElBQUllLE1BQUo7QUFDSiwrRUFESSxDQUFOOztBQUdELENBNUNJOztBQThDTGIscUJBQXNCLCtCQUFvQjtBQUN4QyxNQUFPLE1BQVA7QUFDRCxDQWhESSxDQUFQOztBQWtERCxDQXRERDs7Ozs7QUEyREEsR0FBTWxCLFVBQVcsUUFBWEEsU0FBVztBQUNmdUIsVUFEZTtBQUVmcEMsTUFGZTtBQUdLO0FBQ3BCLEdBQUk2QyxXQUFZLENBQWhCOztBQUVBLEdBQU1DLFVBQVcsRUFBakI7QUFDQSxHQUFNaEMsY0FBZSxFQUFFZCxRQUFVQSxPQUFPYyxZQUFQLEdBQXdCLEtBQXBDLENBQXJCOztBQUVBLEdBQU13QixRQUFTO0FBQ2J0QixNQUFPLGVBQVNqQixRQUFULENBQWtDO0FBQ3ZDLEdBQUk4QyxZQUFjVCxXQUFXSSxNQUE3QixDQUFxQztBQUNuQ3pDLFVBQVlBLFNBQVMsQ0FBQ3dDLFNBQVUsSUFBWCxDQUFULENBQVo7QUFDQTtBQUNEOztBQUVESCxXQUFXSyxPQUFYLENBQW1CLFNBQUNDLFNBQUQsQ0FBWUMsR0FBWixDQUFvQjtBQUNyQyxHQUFNSSxJQUFLLFFBQUxBLEdBQUssQ0FBU0MsU0FBVCxDQUFvQjtBQUM3QkYsU0FBU0gsR0FBVCxFQUFnQixJQUFoQjtBQUNBRTtBQUNBLEdBQUlBLFlBQWNULFdBQVdJLE1BQTdCLENBQXFDO0FBQ25DSyxVQUFZLENBQVo7QUFDQTlDLFVBQVlBLFNBQVNpRCxTQUFULENBQVo7QUFDQTtBQUNEOztBQUVELEdBQUksQ0FBQ0EsVUFBVVQsUUFBWCxFQUF1QnpCLFlBQTNCLENBQXlDO0FBQ3ZDd0IsT0FBT2IsSUFBUDtBQUNEO0FBQ0YsQ0FaRDs7QUFjQSxHQUFJLENBQUNpQixTQUFMLENBQWdCO0FBQ2RLLEdBQUcsQ0FBQ1IsU0FBVSxJQUFYLENBQUg7QUFDRCxDQUZELElBRU87QUFDTEcsVUFBVTFCLEtBQVYsQ0FBZ0IrQixFQUFoQjtBQUNEO0FBQ0YsQ0FwQkQ7QUFxQkQsQ0E1Qlk7O0FBOEJidEIsS0FBTSxlQUFpQjtBQUNyQlcsV0FBV0ssT0FBWCxDQUFtQixTQUFDQyxTQUFELENBQVlDLEdBQVosQ0FBb0I7QUFDckMsQ0FBQ0csU0FBU0gsR0FBVCxDQUFELEVBQWtCRCxVQUFVakIsSUFBVixFQUFsQjtBQUNBcUIsU0FBU0gsR0FBVCxFQUFnQixJQUFoQjtBQUNELENBSEQ7QUFJRCxDQW5DWTs7QUFxQ2JoQixNQUFPLGdCQUFpQjtBQUN0QlMsV0FBV0ssT0FBWCxDQUFtQixTQUFDQyxTQUFELENBQVlDLEdBQVosQ0FBb0I7QUFDckNELFVBQVVmLEtBQVY7QUFDQW1CLFNBQVNILEdBQVQsRUFBZ0IsS0FBaEI7QUFDQUUsVUFBWSxDQUFaO0FBQ0QsQ0FKRDtBQUtELENBM0NZOztBQTZDYmhCLGlCQUFrQiwyQkFBVztBQUMzQixLQUFNLElBQUllLE1BQUo7QUFDSiwrRUFESSxDQUFOOztBQUdELENBakRZOztBQW1EYmIscUJBQXNCLCtCQUFvQjtBQUN4QyxNQUFPLE1BQVA7QUFDRCxDQXJEWSxDQUFmOzs7QUF3REEsTUFBT08sT0FBUDtBQUNELENBbEVEOztBQW9FQSxHQUFNVyxPQUFRLFFBQVJBLE1BQVEsQ0FBU0MsSUFBVCxDQUEyQzs7QUFFdkQsTUFBT2pCLFFBQU8sR0FBSW5ELGNBQUosQ0FBa0IsQ0FBbEIsQ0FBUCxDQUE2QixDQUFDd0MsUUFBUyxDQUFWLENBQWEyQixNQUFPQyxJQUFwQixDQUEwQkMsU0FBVSxDQUFwQyxDQUE3QixDQUFQO0FBQ0QsQ0FIRDs7QUFLQSxHQUFNQyxTQUFVLFFBQVZBLFFBQVU7QUFDZEYsSUFEYztBQUVkZCxVQUZjO0FBR007QUFDcEIsTUFBT3ZCO0FBQ0x1QixXQUFXaUIsR0FBWCxDQUFlLFNBQUNYLFNBQUQsQ0FBWVksQ0FBWixDQUFrQjtBQUMvQixNQUFPbkIsVUFBUyxDQUFDYyxNQUFNQyxLQUFPSSxDQUFiLENBQUQsQ0FBa0JaLFNBQWxCLENBQVQsQ0FBUDtBQUNELENBRkQsQ0FESyxDQUFQOztBQUtELENBVEQ7Ozs7QUFhQSxHQUFNYSxNQUFPLFFBQVBBLEtBQU87QUFDWGIsU0FEVzs7QUFHUyxvRUFEcUIsRUFDckIsc0JBRG5CWixVQUNtQixDQURuQkEsVUFDbUIsNkJBRE4sQ0FBQyxDQUNLO0FBQ3BCLEdBQUkwQixZQUFhLEtBQWpCO0FBQ0EsR0FBSUMsaUJBQWtCLENBQXRCO0FBQ0EsTUFBTztBQUNMekMsTUFBTyxlQUFTakIsUUFBVCxDQUFrQztBQUN2QyxHQUFNMkQsU0FBVSxRQUFWQSxRQUFVLEVBQXFELElBQTVDcEIsT0FBNEMsMkRBQXhCLENBQUNDLFNBQVUsSUFBWCxDQUF3QjtBQUNuRTtBQUNFaUI7QUFDQUMsa0JBQW9CM0IsVUFEcEI7QUFFQVEsT0FBT0MsUUFBUCxHQUFvQixLQUh0QjtBQUlFO0FBQ0F4QyxVQUFZQSxTQUFTdUMsTUFBVCxDQUFaO0FBQ0QsQ0FORCxJQU1PO0FBQ0xtQjtBQUNBZixVQUFVZixLQUFWO0FBQ0FlLFVBQVUxQixLQUFWLENBQWdCMEMsT0FBaEI7QUFDRDtBQUNGLENBWkQ7QUFhQSxHQUFJLENBQUNoQixTQUFELEVBQWNaLGFBQWUsQ0FBakMsQ0FBb0M7QUFDbEMvQixVQUFZQSxTQUFTLENBQUN3QyxTQUFVLElBQVgsQ0FBVCxDQUFaO0FBQ0QsQ0FGRCxJQUVPO0FBQ0wsR0FBSUcsVUFBVVgsb0JBQVYsRUFBSixDQUFzQztBQUNwQ1csVUFBVWIsZ0JBQVYsQ0FBMkJDLFVBQTNCO0FBQ0QsQ0FGRCxJQUVPO0FBQ0w0QjtBQUNEO0FBQ0Y7QUFDRixDQXhCSTs7QUEwQkxqQyxLQUFNLGVBQWlCO0FBQ3JCK0IsV0FBYSxJQUFiO0FBQ0FkLFVBQVVqQixJQUFWO0FBQ0QsQ0E3Qkk7O0FBK0JMRSxNQUFPLGdCQUFpQjtBQUN0QjhCLGdCQUFrQixDQUFsQjtBQUNBRCxXQUFhLEtBQWI7QUFDQWQsVUFBVWYsS0FBVjtBQUNELENBbkNJOztBQXFDTEUsaUJBQWtCLDJCQUFXO0FBQzNCLEtBQU0sSUFBSWUsTUFBSjtBQUNKLDJFQURJLENBQU47O0FBR0QsQ0F6Q0k7O0FBMkNMYixxQkFBc0IsK0JBQW9CO0FBQ3hDLE1BQU9XLFdBQVVYLG9CQUFWLEVBQVA7QUFDRCxDQTdDSSxDQUFQOztBQStDRCxDQXJERDs7QUF1REEsUUFBUzRCLFVBQVQ7QUFDRUMsS0FERjtBQUVFQyxRQUZGO0FBRzRCO0FBQzFCLEdBQUksQ0FBQ0QsS0FBTCxDQUFZO0FBQ1YsTUFBT0MsU0FBUDtBQUNELENBRkQsSUFFTyxJQUFJRCxnQkFBaUJ6RixjQUFyQixDQUFvQztBQUN6Q3lGLE1BQU1FLGFBQU4sQ0FBb0JELFFBQXBCO0FBQ0EsTUFBT0QsTUFBUDtBQUNELENBSE0sSUFHQTtBQUNMLE1BQU8sV0FBYTtBQUNsQixNQUFPQSxNQUFQLEdBQWlCLFVBQWpCLEVBQStCQSxnQ0FBL0I7QUFDQUM7QUFDRCxDQUhEO0FBSUQ7QUFDRjs7QUFFRCxRQUFTRSxZQUFUO0FBQ0VILEtBREY7QUFFRUMsUUFGRjtBQUdRO0FBQ04sR0FBSUQsT0FBU0EsZ0JBQWlCekYsY0FBOUIsQ0FBNkM7QUFDM0N5RixNQUFNSSxnQkFBTixDQUF1QkgsUUFBdkI7QUFDRDtBQUNGOztBQUVELEdBQU1ELE9BQVEsUUFBUkEsTUFBUSxDQUFTSyxVQUFULENBQXNDakUsTUFBdEMsQ0FBaUU7QUFDN0UsR0FBTWtFLGVBQWdCLEdBQUkvRixjQUFKLENBQWtCOEYsVUFBbEIsQ0FBOEJqRSxNQUE5QixDQUF0QjtBQUNBLEdBQUlrRSxjQUFjQyxVQUFsQixDQUE4QjtBQUM1QixNQUFPRCxjQUFQO0FBQ0QsQ0FGRCxJQUVPO0FBQ0wsTUFBT0EsZUFBY0UsWUFBZCxFQUFQO0FBQ0Q7QUFDRixDQVBEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEtBQyxPQUFPQyxPQUFQLENBQWlCOzs7Ozs7O0FBT2ZDLE1BQU96RixhQVBROzs7Ozs7QUFhZjBGLFFBQVN6RixlQWJNOzs7Ozs7QUFtQmYwRixjQUFlakcscUJBbkJBOzs7O0FBdUJma0csS0FBTS9GLFlBdkJTOzs7Ozs7Ozs7Ozs7OztBQXFDZnVELFdBckNlOzs7Ozs7Ozs7Ozs7Ozs7O0FBcURmRCxhQXJEZTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUdmbEIsYUFyR2U7Ozs7OztBQTJHZjNCLE9BM0dlOzs7Ozs7QUFpSGZHLGFBakhlOzs7Ozs7QUF1SGZDLGlCQXZIZTs7Ozs7O0FBNkhmQyxhQTdIZTs7Ozs7Ozs7Ozs7QUF3SWZFLG1CQXhJZTs7Ozs7QUE2SWZzRCxXQTdJZTs7Ozs7O0FBbUpmZCxpQkFuSmU7Ozs7OztBQXlKZnRCLGlCQXpKZTs7Ozs7QUE4SmZ1QyxlQTlKZTs7Ozs7Ozs7OztBQXdLZkcsU0F4S2U7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdNZkssV0FoTWU7Ozs7O0FBcU1mekUsK0NBck1lOzs7Ozs7QUEyTWZmLG1DQTNNZTs7Ozs7O0FBaU5mdUYsbUJBak5lO0FBa05mSSx1QkFsTmU7O0FBb05mWSxvQkFBcUIvRixhQXBOTixDQUFqQiIsImZpbGUiOiJBbmltYXRlZEltcGxlbWVudGF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBBbmltYXRlZEltcGxlbWVudGF0aW9uXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICogQHByZXZlbnRNdW5nZVxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IHtBbmltYXRlZEV2ZW50LCBhdHRhY2hOYXRpdmVFdmVudH0gPSByZXF1aXJlKCcuL0FuaW1hdGVkRXZlbnQnKTtcbmNvbnN0IEFuaW1hdGVkQWRkaXRpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkQWRkaXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkRGlmZkNsYW1wID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZERpZmZDbGFtcCcpO1xuY29uc3QgQW5pbWF0ZWREaXZpc2lvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWREaXZpc2lvbicpO1xuY29uc3QgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZEludGVycG9sYXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkTW9kdWxvID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZE1vZHVsbycpO1xuY29uc3QgQW5pbWF0ZWRNdWx0aXBsaWNhdGlvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRNdWx0aXBsaWNhdGlvbicpO1xuY29uc3QgQW5pbWF0ZWROb2RlID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZE5vZGUnKTtcbmNvbnN0IEFuaW1hdGVkUHJvcHMgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkUHJvcHMnKTtcbmNvbnN0IEFuaW1hdGVkVHJhY2tpbmcgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkVHJhY2tpbmcnKTtcbmNvbnN0IEFuaW1hdGVkVmFsdWUgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkVmFsdWUnKTtcbmNvbnN0IEFuaW1hdGVkVmFsdWVYWSA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRWYWx1ZVhZJyk7XG5jb25zdCBEZWNheUFuaW1hdGlvbiA9IHJlcXVpcmUoJy4vYW5pbWF0aW9ucy9EZWNheUFuaW1hdGlvbicpO1xuY29uc3QgU3ByaW5nQW5pbWF0aW9uID0gcmVxdWlyZSgnLi9hbmltYXRpb25zL1NwcmluZ0FuaW1hdGlvbicpO1xuY29uc3QgVGltaW5nQW5pbWF0aW9uID0gcmVxdWlyZSgnLi9hbmltYXRpb25zL1RpbWluZ0FuaW1hdGlvbicpO1xuXG5jb25zdCBjcmVhdGVBbmltYXRlZENvbXBvbmVudCA9IHJlcXVpcmUoJy4vY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQnKTtcblxuaW1wb3J0IHR5cGUge1xuICBBbmltYXRpb25Db25maWcsXG4gIEVuZENhbGxiYWNrLFxuICBFbmRSZXN1bHQsXG59IGZyb20gJy4vYW5pbWF0aW9ucy9BbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge1RpbWluZ0FuaW1hdGlvbkNvbmZpZ30gZnJvbSAnLi9hbmltYXRpb25zL1RpbWluZ0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7RGVjYXlBbmltYXRpb25Db25maWd9IGZyb20gJy4vYW5pbWF0aW9ucy9EZWNheUFuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7U3ByaW5nQW5pbWF0aW9uQ29uZmlnfSBmcm9tICcuL2FuaW1hdGlvbnMvU3ByaW5nQW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtNYXBwaW5nLCBFdmVudENvbmZpZ30gZnJvbSAnLi9BbmltYXRlZEV2ZW50JztcblxudHlwZSBDb21wb3NpdGVBbmltYXRpb24gPSB7XG4gIHN0YXJ0OiAoY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spID0+IHZvaWQsXG4gIHN0b3A6ICgpID0+IHZvaWQsXG4gIHJlc2V0OiAoKSA9PiB2b2lkLFxuICBfc3RhcnROYXRpdmVMb29wOiAoaXRlcmF0aW9ucz86IG51bWJlcikgPT4gdm9pZCxcbiAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6ICgpID0+IGJvb2xlYW4sXG59O1xuXG5jb25zdCBhZGQgPSBmdW5jdGlvbihcbiAgYTogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuICBiOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4pOiBBbmltYXRlZEFkZGl0aW9uIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZEFkZGl0aW9uKGEsIGIpO1xufTtcblxuY29uc3QgZGl2aWRlID0gZnVuY3Rpb24oXG4gIGE6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbiAgYjogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuKTogQW5pbWF0ZWREaXZpc2lvbiB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWREaXZpc2lvbihhLCBiKTtcbn07XG5cbmNvbnN0IG11bHRpcGx5ID0gZnVuY3Rpb24oXG4gIGE6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbiAgYjogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuKTogQW5pbWF0ZWRNdWx0aXBsaWNhdGlvbiB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWRNdWx0aXBsaWNhdGlvbihhLCBiKTtcbn07XG5cbmNvbnN0IG1vZHVsbyA9IGZ1bmN0aW9uKGE6IEFuaW1hdGVkTm9kZSwgbW9kdWx1czogbnVtYmVyKTogQW5pbWF0ZWRNb2R1bG8ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkTW9kdWxvKGEsIG1vZHVsdXMpO1xufTtcblxuY29uc3QgZGlmZkNsYW1wID0gZnVuY3Rpb24oXG4gIGE6IEFuaW1hdGVkTm9kZSxcbiAgbWluOiBudW1iZXIsXG4gIG1heDogbnVtYmVyLFxuKTogQW5pbWF0ZWREaWZmQ2xhbXAge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkRGlmZkNsYW1wKGEsIG1pbiwgbWF4KTtcbn07XG5cbmNvbnN0IF9jb21iaW5lQ2FsbGJhY2tzID0gZnVuY3Rpb24oXG4gIGNhbGxiYWNrOiA/RW5kQ2FsbGJhY2ssXG4gIGNvbmZpZzogQW5pbWF0aW9uQ29uZmlnLFxuKSB7XG4gIGlmIChjYWxsYmFjayAmJiBjb25maWcub25Db21wbGV0ZSkge1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgY29uZmlnLm9uQ29tcGxldGUgJiYgY29uZmlnLm9uQ29tcGxldGUoLi4uYXJncyk7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayguLi5hcmdzKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjYWxsYmFjayB8fCBjb25maWcub25Db21wbGV0ZTtcbiAgfVxufTtcblxuY29uc3QgbWF5YmVWZWN0b3JBbmltID0gZnVuY3Rpb24oXG4gIHZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICBjb25maWc6IE9iamVjdCxcbiAgYW5pbTogKHZhbHVlOiBBbmltYXRlZFZhbHVlLCBjb25maWc6IE9iamVjdCkgPT4gQ29tcG9zaXRlQW5pbWF0aW9uLFxuKTogP0NvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWVYWSkge1xuICAgIGNvbnN0IGNvbmZpZ1ggPSB7Li4uY29uZmlnfTtcbiAgICBjb25zdCBjb25maWdZID0gey4uLmNvbmZpZ307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29uZmlnKSB7XG4gICAgICBjb25zdCB7eCwgeX0gPSBjb25maWdba2V5XTtcbiAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQgJiYgeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmZpZ1hba2V5XSA9IHg7XG4gICAgICAgIGNvbmZpZ1lba2V5XSA9IHk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFYID0gYW5pbSgodmFsdWU6IEFuaW1hdGVkVmFsdWVYWSkueCwgY29uZmlnWCk7XG4gICAgY29uc3QgYVkgPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRWYWx1ZVhZKS55LCBjb25maWdZKTtcbiAgICAvLyBXZSB1c2UgYHN0b3BUb2dldGhlcjogZmFsc2VgIGhlcmUgYmVjYXVzZSBvdGhlcndpc2UgdHJhY2tpbmcgd2lsbCBicmVha1xuICAgIC8vIGJlY2F1c2UgdGhlIHNlY29uZCBhbmltYXRpb24gd2lsbCBnZXQgc3RvcHBlZCBiZWZvcmUgaXQgY2FuIHVwZGF0ZS5cbiAgICByZXR1cm4gcGFyYWxsZWwoW2FYLCBhWV0sIHtzdG9wVG9nZXRoZXI6IGZhbHNlfSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBzcHJpbmcgPSBmdW5jdGlvbihcbiAgdmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gIGNvbmZpZzogU3ByaW5nQW5pbWF0aW9uQ29uZmlnLFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgY29uc3Qgc3RhcnQgPSBmdW5jdGlvbihcbiAgICBhbmltYXRlZFZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICAgIGNvbmZpZ3VyYXRpb246IFNwcmluZ0FuaW1hdGlvbkNvbmZpZyxcbiAgICBjYWxsYmFjaz86ID9FbmRDYWxsYmFjayxcbiAgKTogdm9pZCB7XG4gICAgY2FsbGJhY2sgPSBfY29tYmluZUNhbGxiYWNrcyhjYWxsYmFjaywgY29uZmlndXJhdGlvbik7XG4gICAgY29uc3Qgc2luZ2xlVmFsdWU6IGFueSA9IGFuaW1hdGVkVmFsdWU7XG4gICAgY29uc3Qgc2luZ2xlQ29uZmlnOiBhbnkgPSBjb25maWd1cmF0aW9uO1xuICAgIHNpbmdsZVZhbHVlLnN0b3BUcmFja2luZygpO1xuICAgIGlmIChjb25maWd1cmF0aW9uLnRvVmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZE5vZGUpIHtcbiAgICAgIHNpbmdsZVZhbHVlLnRyYWNrKFxuICAgICAgICBuZXcgQW5pbWF0ZWRUcmFja2luZyhcbiAgICAgICAgICBzaW5nbGVWYWx1ZSxcbiAgICAgICAgICBjb25maWd1cmF0aW9uLnRvVmFsdWUsXG4gICAgICAgICAgU3ByaW5nQW5pbWF0aW9uLFxuICAgICAgICAgIHNpbmdsZUNvbmZpZyxcbiAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpbmdsZVZhbHVlLmFuaW1hdGUobmV3IFNwcmluZ0FuaW1hdGlvbihzaW5nbGVDb25maWcpLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gKFxuICAgIG1heWJlVmVjdG9yQW5pbSh2YWx1ZSwgY29uZmlnLCBzcHJpbmcpIHx8IHtcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjayk6IHZvaWQge1xuICAgICAgICBzdGFydCh2YWx1ZSwgY29uZmlnLCBjYWxsYmFjayk7XG4gICAgICB9LFxuXG4gICAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5yZXNldEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oaXRlcmF0aW9ucz86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7Li4uY29uZmlnLCBpdGVyYXRpb25zfTtcbiAgICAgICAgc3RhcnQodmFsdWUsIHNpbmdsZUNvbmZpZyk7XG4gICAgICB9LFxuXG4gICAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcudXNlTmF0aXZlRHJpdmVyIHx8IGZhbHNlO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCB0aW1pbmcgPSBmdW5jdGlvbihcbiAgdmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gIGNvbmZpZzogVGltaW5nQW5pbWF0aW9uQ29uZmlnLFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgY29uc3Qgc3RhcnQgPSBmdW5jdGlvbihcbiAgICBhbmltYXRlZFZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICAgIGNvbmZpZ3VyYXRpb246IFRpbWluZ0FuaW1hdGlvbkNvbmZpZyxcbiAgICBjYWxsYmFjaz86ID9FbmRDYWxsYmFjayxcbiAgKTogdm9pZCB7XG4gICAgY2FsbGJhY2sgPSBfY29tYmluZUNhbGxiYWNrcyhjYWxsYmFjaywgY29uZmlndXJhdGlvbik7XG4gICAgY29uc3Qgc2luZ2xlVmFsdWU6IGFueSA9IGFuaW1hdGVkVmFsdWU7XG4gICAgY29uc3Qgc2luZ2xlQ29uZmlnOiBhbnkgPSBjb25maWd1cmF0aW9uO1xuICAgIHNpbmdsZVZhbHVlLnN0b3BUcmFja2luZygpO1xuICAgIGlmIChjb25maWd1cmF0aW9uLnRvVmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZE5vZGUpIHtcbiAgICAgIHNpbmdsZVZhbHVlLnRyYWNrKFxuICAgICAgICBuZXcgQW5pbWF0ZWRUcmFja2luZyhcbiAgICAgICAgICBzaW5nbGVWYWx1ZSxcbiAgICAgICAgICBjb25maWd1cmF0aW9uLnRvVmFsdWUsXG4gICAgICAgICAgVGltaW5nQW5pbWF0aW9uLFxuICAgICAgICAgIHNpbmdsZUNvbmZpZyxcbiAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNpbmdsZVZhbHVlLmFuaW1hdGUobmV3IFRpbWluZ0FuaW1hdGlvbihzaW5nbGVDb25maWcpLCBjYWxsYmFjayk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgbWF5YmVWZWN0b3JBbmltKHZhbHVlLCBjb25maWcsIHRpbWluZykgfHwge1xuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKTogdm9pZCB7XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBjb25maWcsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG5cbiAgICAgIHN0b3A6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICByZXNldDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbihpdGVyYXRpb25zPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHsuLi5jb25maWcsIGl0ZXJhdGlvbnN9O1xuICAgICAgICBzdGFydCh2YWx1ZSwgc2luZ2xlQ29uZmlnKTtcbiAgICAgIH0sXG5cbiAgICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy51c2VOYXRpdmVEcml2ZXIgfHwgZmFsc2U7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IGRlY2F5ID0gZnVuY3Rpb24oXG4gIHZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICBjb25maWc6IERlY2F5QW5pbWF0aW9uQ29uZmlnLFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgY29uc3Qgc3RhcnQgPSBmdW5jdGlvbihcbiAgICBhbmltYXRlZFZhbHVlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWRWYWx1ZVhZLFxuICAgIGNvbmZpZ3VyYXRpb246IERlY2F5QW5pbWF0aW9uQ29uZmlnLFxuICAgIGNhbGxiYWNrPzogP0VuZENhbGxiYWNrLFxuICApOiB2b2lkIHtcbiAgICBjYWxsYmFjayA9IF9jb21iaW5lQ2FsbGJhY2tzKGNhbGxiYWNrLCBjb25maWd1cmF0aW9uKTtcbiAgICBjb25zdCBzaW5nbGVWYWx1ZTogYW55ID0gYW5pbWF0ZWRWYWx1ZTtcbiAgICBjb25zdCBzaW5nbGVDb25maWc6IGFueSA9IGNvbmZpZ3VyYXRpb247XG4gICAgc2luZ2xlVmFsdWUuc3RvcFRyYWNraW5nKCk7XG4gICAgc2luZ2xlVmFsdWUuYW5pbWF0ZShuZXcgRGVjYXlBbmltYXRpb24oc2luZ2xlQ29uZmlnKSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgbWF5YmVWZWN0b3JBbmltKHZhbHVlLCBjb25maWcsIGRlY2F5KSB8fCB7XG4gICAgICBzdGFydDogZnVuY3Rpb24oY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spOiB2b2lkIHtcbiAgICAgICAgc3RhcnQodmFsdWUsIGNvbmZpZywgY2FsbGJhY2spO1xuICAgICAgfSxcblxuICAgICAgc3RvcDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnN0b3BBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0OiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUucmVzZXRBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIF9zdGFydE5hdGl2ZUxvb3A6IGZ1bmN0aW9uKGl0ZXJhdGlvbnM/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0gey4uLmNvbmZpZywgaXRlcmF0aW9uc307XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBzaW5nbGVDb25maWcpO1xuICAgICAgfSxcblxuICAgICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLnVzZU5hdGl2ZURyaXZlciB8fCBmYWxzZTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuY29uc3Qgc2VxdWVuY2UgPSBmdW5jdGlvbihcbiAgYW5pbWF0aW9uczogQXJyYXk8Q29tcG9zaXRlQW5pbWF0aW9uPixcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGxldCBjdXJyZW50ID0gMDtcbiAgcmV0dXJuIHtcbiAgICBzdGFydDogZnVuY3Rpb24oY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IG9uQ29tcGxldGUgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYgKCFyZXN1bHQuZmluaXNoZWQpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnQrKztcblxuICAgICAgICBpZiAoY3VycmVudCA9PT0gYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFuaW1hdGlvbnNbY3VycmVudF0uc3RhcnQob25Db21wbGV0ZSk7XG4gICAgICB9O1xuXG4gICAgICBpZiAoYW5pbWF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRpb25zW2N1cnJlbnRdLnN0YXJ0KG9uQ29tcGxldGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChjdXJyZW50IDwgYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgYW5pbWF0aW9uc1tjdXJyZW50XS5zdG9wKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uLCBpZHgpID0+IHtcbiAgICAgICAgaWYgKGlkeCA8PSBjdXJyZW50KSB7XG4gICAgICAgICAgYW5pbWF0aW9uLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY3VycmVudCA9IDA7XG4gICAgfSxcblxuICAgIF9zdGFydE5hdGl2ZUxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnTG9vcHMgcnVuIHVzaW5nIHRoZSBuYXRpdmUgZHJpdmVyIGNhbm5vdCBjb250YWluIEFuaW1hdGVkLnNlcXVlbmNlIGFuaW1hdGlvbnMnLFxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH07XG59O1xuXG50eXBlIFBhcmFsbGVsQ29uZmlnID0ge1xuICBzdG9wVG9nZXRoZXI/OiBib29sZWFuLCAvLyBJZiBvbmUgaXMgc3RvcHBlZCwgc3RvcCBhbGwuICBkZWZhdWx0OiB0cnVlXG59O1xuY29uc3QgcGFyYWxsZWwgPSBmdW5jdGlvbihcbiAgYW5pbWF0aW9uczogQXJyYXk8Q29tcG9zaXRlQW5pbWF0aW9uPixcbiAgY29uZmlnPzogP1BhcmFsbGVsQ29uZmlnLFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgbGV0IGRvbmVDb3VudCA9IDA7XG4gIC8vIE1ha2Ugc3VyZSB3ZSBvbmx5IGNhbGwgc3RvcCgpIGF0IG1vc3Qgb25jZSBmb3IgZWFjaCBhbmltYXRpb25cbiAgY29uc3QgaGFzRW5kZWQgPSB7fTtcbiAgY29uc3Qgc3RvcFRvZ2V0aGVyID0gIShjb25maWcgJiYgY29uZmlnLnN0b3BUb2dldGhlciA9PT0gZmFsc2UpO1xuXG4gIGNvbnN0IHJlc3VsdCA9IHtcbiAgICBzdGFydDogZnVuY3Rpb24oY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spIHtcbiAgICAgIGlmIChkb25lQ291bnQgPT09IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHtmaW5pc2hlZDogdHJ1ZX0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uLCBpZHgpID0+IHtcbiAgICAgICAgY29uc3QgY2IgPSBmdW5jdGlvbihlbmRSZXN1bHQpIHtcbiAgICAgICAgICBoYXNFbmRlZFtpZHhdID0gdHJ1ZTtcbiAgICAgICAgICBkb25lQ291bnQrKztcbiAgICAgICAgICBpZiAoZG9uZUNvdW50ID09PSBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgZG9uZUNvdW50ID0gMDtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVuZFJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFlbmRSZXN1bHQuZmluaXNoZWQgJiYgc3RvcFRvZ2V0aGVyKSB7XG4gICAgICAgICAgICByZXN1bHQuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIWFuaW1hdGlvbikge1xuICAgICAgICAgIGNiKHtmaW5pc2hlZDogdHJ1ZX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuaW1hdGlvbi5zdGFydChjYik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uLCBpZHgpID0+IHtcbiAgICAgICAgIWhhc0VuZGVkW2lkeF0gJiYgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgICAgaGFzRW5kZWRbaWR4XSA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICAgICAgaGFzRW5kZWRbaWR4XSA9IGZhbHNlO1xuICAgICAgICBkb25lQ291bnQgPSAwO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIF9zdGFydE5hdGl2ZUxvb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnTG9vcHMgcnVuIHVzaW5nIHRoZSBuYXRpdmUgZHJpdmVyIGNhbm5vdCBjb250YWluIEFuaW1hdGVkLnBhcmFsbGVsIGFuaW1hdGlvbnMnLFxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmNvbnN0IGRlbGF5ID0gZnVuY3Rpb24odGltZTogbnVtYmVyKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgLy8gV291bGQgYmUgbmljZSB0byBtYWtlIGEgc3BlY2lhbGl6ZWQgaW1wbGVtZW50YXRpb25cbiAgcmV0dXJuIHRpbWluZyhuZXcgQW5pbWF0ZWRWYWx1ZSgwKSwge3RvVmFsdWU6IDAsIGRlbGF5OiB0aW1lLCBkdXJhdGlvbjogMH0pO1xufTtcblxuY29uc3Qgc3RhZ2dlciA9IGZ1bmN0aW9uKFxuICB0aW1lOiBudW1iZXIsXG4gIGFuaW1hdGlvbnM6IEFycmF5PENvbXBvc2l0ZUFuaW1hdGlvbj4sXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICByZXR1cm4gcGFyYWxsZWwoXG4gICAgYW5pbWF0aW9ucy5tYXAoKGFuaW1hdGlvbiwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHNlcXVlbmNlKFtkZWxheSh0aW1lICogaSksIGFuaW1hdGlvbl0pO1xuICAgIH0pLFxuICApO1xufTtcblxudHlwZSBMb29wQW5pbWF0aW9uQ29uZmlnID0ge2l0ZXJhdGlvbnM6IG51bWJlcn07XG5cbmNvbnN0IGxvb3AgPSBmdW5jdGlvbihcbiAgYW5pbWF0aW9uOiBDb21wb3NpdGVBbmltYXRpb24sXG4gIHtpdGVyYXRpb25zID0gLTF9OiBMb29wQW5pbWF0aW9uQ29uZmlnID0ge30sXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBsZXQgaXNGaW5pc2hlZCA9IGZhbHNlO1xuICBsZXQgaXRlcmF0aW9uc1NvRmFyID0gMDtcbiAgcmV0dXJuIHtcbiAgICBzdGFydDogZnVuY3Rpb24oY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spIHtcbiAgICAgIGNvbnN0IHJlc3RhcnQgPSBmdW5jdGlvbihyZXN1bHQ6IEVuZFJlc3VsdCA9IHtmaW5pc2hlZDogdHJ1ZX0pOiB2b2lkIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzRmluaXNoZWQgfHxcbiAgICAgICAgICBpdGVyYXRpb25zU29GYXIgPT09IGl0ZXJhdGlvbnMgfHxcbiAgICAgICAgICByZXN1bHQuZmluaXNoZWQgPT09IGZhbHNlXG4gICAgICAgICkge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlcmF0aW9uc1NvRmFyKys7XG4gICAgICAgICAgYW5pbWF0aW9uLnJlc2V0KCk7XG4gICAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KHJlc3RhcnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKCFhbmltYXRpb24gfHwgaXRlcmF0aW9ucyA9PT0gMCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7ZmluaXNoZWQ6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhbmltYXRpb24uX2lzVXNpbmdOYXRpdmVEcml2ZXIoKSkge1xuICAgICAgICAgIGFuaW1hdGlvbi5fc3RhcnROYXRpdmVMb29wKGl0ZXJhdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3RhcnQoKTsgLy8gU3RhcnQgbG9vcGluZyByZWN1cnNpdmVseSBvbiB0aGUganMgdGhyZWFkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICBpc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIGFuaW1hdGlvbi5zdG9wKCk7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgIGl0ZXJhdGlvbnNTb0ZhciA9IDA7XG4gICAgICBpc0ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICB9LFxuXG4gICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdMb29wcyBydW4gdXNpbmcgdGhlIG5hdGl2ZSBkcml2ZXIgY2Fubm90IGNvbnRhaW4gQW5pbWF0ZWQubG9vcCBhbmltYXRpb25zJyxcbiAgICAgICk7XG4gICAgfSxcblxuICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBhbmltYXRpb24uX2lzVXNpbmdOYXRpdmVEcml2ZXIoKTtcbiAgICB9LFxuICB9O1xufTtcblxuZnVuY3Rpb24gZm9ya0V2ZW50KFxuICBldmVudDogP0FuaW1hdGVkRXZlbnQgfCA/RnVuY3Rpb24sXG4gIGxpc3RlbmVyOiBGdW5jdGlvbixcbik6IEFuaW1hdGVkRXZlbnQgfCBGdW5jdGlvbiB7XG4gIGlmICghZXZlbnQpIHtcbiAgICByZXR1cm4gbGlzdGVuZXI7XG4gIH0gZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBBbmltYXRlZEV2ZW50KSB7XG4gICAgZXZlbnQuX19hZGRMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgdHlwZW9mIGV2ZW50ID09PSAnZnVuY3Rpb24nICYmIGV2ZW50KC4uLmFyZ3MpO1xuICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bmZvcmtFdmVudChcbiAgZXZlbnQ6ID9BbmltYXRlZEV2ZW50IHwgP0Z1bmN0aW9uLFxuICBsaXN0ZW5lcjogRnVuY3Rpb24sXG4pOiB2b2lkIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50IGluc3RhbmNlb2YgQW5pbWF0ZWRFdmVudCkge1xuICAgIGV2ZW50Ll9fcmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuICB9XG59XG5cbmNvbnN0IGV2ZW50ID0gZnVuY3Rpb24oYXJnTWFwcGluZzogQXJyYXk8P01hcHBpbmc+LCBjb25maWc/OiBFdmVudENvbmZpZyk6IGFueSB7XG4gIGNvbnN0IGFuaW1hdGVkRXZlbnQgPSBuZXcgQW5pbWF0ZWRFdmVudChhcmdNYXBwaW5nLCBjb25maWcpO1xuICBpZiAoYW5pbWF0ZWRFdmVudC5fX2lzTmF0aXZlKSB7XG4gICAgcmV0dXJuIGFuaW1hdGVkRXZlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFuaW1hdGVkRXZlbnQuX19nZXRIYW5kbGVyKCk7XG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGBBbmltYXRlZGAgbGlicmFyeSBpcyBkZXNpZ25lZCB0byBtYWtlIGFuaW1hdGlvbnMgZmx1aWQsIHBvd2VyZnVsLCBhbmRcbiAqIGVhc3kgdG8gYnVpbGQgYW5kIG1haW50YWluLiBgQW5pbWF0ZWRgIGZvY3VzZXMgb24gZGVjbGFyYXRpdmUgcmVsYXRpb25zaGlwc1xuICogYmV0d2VlbiBpbnB1dHMgYW5kIG91dHB1dHMsIHdpdGggY29uZmlndXJhYmxlIHRyYW5zZm9ybXMgaW4gYmV0d2VlbiwgYW5kXG4gKiBzaW1wbGUgYHN0YXJ0YC9gc3RvcGAgbWV0aG9kcyB0byBjb250cm9sIHRpbWUtYmFzZWQgYW5pbWF0aW9uIGV4ZWN1dGlvbi5cbiAqXG4gKiBUaGUgc2ltcGxlc3Qgd29ya2Zsb3cgZm9yIGNyZWF0aW5nIGFuIGFuaW1hdGlvbiBpcyB0byBjcmVhdGUgYW5cbiAqIGBBbmltYXRlZC5WYWx1ZWAsIGhvb2sgaXQgdXAgdG8gb25lIG9yIG1vcmUgc3R5bGUgYXR0cmlidXRlcyBvZiBhbiBhbmltYXRlZFxuICogY29tcG9uZW50LCBhbmQgdGhlbiBkcml2ZSB1cGRhdGVzIHZpYSBhbmltYXRpb25zIHVzaW5nIGBBbmltYXRlZC50aW1pbmcoKWA6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQW5pbWF0ZWQudGltaW5nKCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmltYXRlIHZhbHVlIG92ZXIgdGltZVxuICogICB0aGlzLnN0YXRlLmZhZGVBbmltLCAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdmFsdWUgdG8gZHJpdmVcbiAqICAge1xuICogICAgIHRvVmFsdWU6IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmltYXRlIHRvIGZpbmFsIHZhbHVlIG9mIDFcbiAqICAgfVxuICogKS5zdGFydCgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCB0aGUgYW5pbWF0aW9uXG4gKiBgYGBcbiAqXG4gKiBSZWZlciB0byB0aGUgW0FuaW1hdGlvbnNdKGRvY3MvYW5pbWF0aW9ucy5odG1sI2FuaW1hdGVkLWFwaSkgZ3VpZGUgdG8gc2VlXG4gKiBhZGRpdGlvbmFsIGV4YW1wbGVzIG9mIGBBbmltYXRlZGAgaW4gYWN0aW9uLlxuICpcbiAqICMjIE92ZXJ2aWV3XG4gKlxuICogVGhlcmUgYXJlIHR3byB2YWx1ZSB0eXBlcyB5b3UgY2FuIHVzZSB3aXRoIGBBbmltYXRlZGA6XG4gKlxuICogLSBbYEFuaW1hdGVkLlZhbHVlKClgXShkb2NzL2FuaW1hdGVkLmh0bWwjdmFsdWUpIGZvciBzaW5nbGUgdmFsdWVzXG4gKiAtIFtgQW5pbWF0ZWQuVmFsdWVYWSgpYF0oZG9jcy9hbmltYXRlZC5odG1sI3ZhbHVleHkpIGZvciB2ZWN0b3JzXG4gKlxuICogYEFuaW1hdGVkLlZhbHVlYCBjYW4gYmluZCB0byBzdHlsZSBwcm9wZXJ0aWVzIG9yIG90aGVyIHByb3BzLCBhbmQgY2FuIGJlXG4gKiBpbnRlcnBvbGF0ZWQgYXMgd2VsbC4gQSBzaW5nbGUgYEFuaW1hdGVkLlZhbHVlYCBjYW4gZHJpdmUgYW55IG51bWJlciBvZlxuICogcHJvcGVydGllcy5cbiAqXG4gKiAjIyMgQ29uZmlndXJpbmcgYW5pbWF0aW9uc1xuICpcbiAqIGBBbmltYXRlZGAgcHJvdmlkZXMgdGhyZWUgdHlwZXMgb2YgYW5pbWF0aW9uIHR5cGVzLiBFYWNoIGFuaW1hdGlvbiB0eXBlXG4gKiBwcm92aWRlcyBhIHBhcnRpY3VsYXIgYW5pbWF0aW9uIGN1cnZlIHRoYXQgY29udHJvbHMgaG93IHlvdXIgdmFsdWVzIGFuaW1hdGVcbiAqIGZyb20gdGhlaXIgaW5pdGlhbCB2YWx1ZSB0byB0aGUgZmluYWwgdmFsdWU6XG4gKlxuICogLSBbYEFuaW1hdGVkLmRlY2F5KClgXShkb2NzL2FuaW1hdGVkLmh0bWwjZGVjYXkpIHN0YXJ0cyB3aXRoIGFuIGluaXRpYWxcbiAqICAgdmVsb2NpdHkgYW5kIGdyYWR1YWxseSBzbG93cyB0byBhIHN0b3AuXG4gKiAtIFtgQW5pbWF0ZWQuc3ByaW5nKClgXShkb2NzL2FuaW1hdGVkLmh0bWwjc3ByaW5nKSBwcm92aWRlcyBhIHNpbXBsZVxuICogICBzcHJpbmcgcGh5c2ljcyBtb2RlbC5cbiAqIC0gW2BBbmltYXRlZC50aW1pbmcoKWBdKGRvY3MvYW5pbWF0ZWQuaHRtbCN0aW1pbmcpIGFuaW1hdGVzIGEgdmFsdWUgb3ZlciB0aW1lXG4gKiAgIHVzaW5nIFtlYXNpbmcgZnVuY3Rpb25zXShkb2NzL2Vhc2luZy5odG1sKS5cbiAqXG4gKiBJbiBtb3N0IGNhc2VzLCB5b3Ugd2lsbCBiZSB1c2luZyBgdGltaW5nKClgLiBCeSBkZWZhdWx0LCBpdCB1c2VzIGEgc3ltbWV0cmljXG4gKiBlYXNlSW5PdXQgY3VydmUgdGhhdCBjb252ZXlzIHRoZSBncmFkdWFsIGFjY2VsZXJhdGlvbiBvZiBhbiBvYmplY3QgdG8gZnVsbFxuICogc3BlZWQgYW5kIGNvbmNsdWRlcyBieSBncmFkdWFsbHkgZGVjZWxlcmF0aW5nIHRvIGEgc3RvcC5cbiAqXG4gKiAjIyMgV29ya2luZyB3aXRoIGFuaW1hdGlvbnNcbiAqXG4gKiBBbmltYXRpb25zIGFyZSBzdGFydGVkIGJ5IGNhbGxpbmcgYHN0YXJ0KClgIG9uIHlvdXIgYW5pbWF0aW9uLiBgc3RhcnQoKWBcbiAqIHRha2VzIGEgY29tcGxldGlvbiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBkb25lLlxuICogSWYgdGhlIGFuaW1hdGlvbiBmaW5pc2hlZCBydW5uaW5nIG5vcm1hbGx5LCB0aGUgY29tcGxldGlvbiBjYWxsYmFjayB3aWxsIGJlXG4gKiBpbnZva2VkIHdpdGggYHtmaW5pc2hlZDogdHJ1ZX1gLiBJZiB0aGUgYW5pbWF0aW9uIGlzIGRvbmUgYmVjYXVzZSBgc3RvcCgpYFxuICogd2FzIGNhbGxlZCBvbiBpdCBiZWZvcmUgaXQgY291bGQgZmluaXNoIChlLmcuIGJlY2F1c2UgaXQgd2FzIGludGVycnVwdGVkIGJ5IGFcbiAqIGdlc3R1cmUgb3IgYW5vdGhlciBhbmltYXRpb24pLCB0aGVuIGl0IHdpbGwgcmVjZWl2ZSBge2ZpbmlzaGVkOiBmYWxzZX1gLlxuICpcbiAqICMjIyBVc2luZyB0aGUgbmF0aXZlIGRyaXZlclxuICpcbiAqIEJ5IHVzaW5nIHRoZSBuYXRpdmUgZHJpdmVyLCB3ZSBzZW5kIGV2ZXJ5dGhpbmcgYWJvdXQgdGhlIGFuaW1hdGlvbiB0byBuYXRpdmVcbiAqIGJlZm9yZSBzdGFydGluZyB0aGUgYW5pbWF0aW9uLCBhbGxvd2luZyBuYXRpdmUgY29kZSB0byBwZXJmb3JtIHRoZSBhbmltYXRpb25cbiAqIG9uIHRoZSBVSSB0aHJlYWQgd2l0aG91dCBoYXZpbmcgdG8gZ28gdGhyb3VnaCB0aGUgYnJpZGdlIG9uIGV2ZXJ5IGZyYW1lLlxuICogT25jZSB0aGUgYW5pbWF0aW9uIGhhcyBzdGFydGVkLCB0aGUgSlMgdGhyZWFkIGNhbiBiZSBibG9ja2VkIHdpdGhvdXRcbiAqIGFmZmVjdGluZyB0aGUgYW5pbWF0aW9uLlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoZSBuYXRpdmUgZHJpdmVyIGJ5IHNwZWNpZnlpbmcgYHVzZU5hdGl2ZURyaXZlcjogdHJ1ZWAgaW4geW91clxuICogYW5pbWF0aW9uIGNvbmZpZ3VyYXRpb24uIFNlZSB0aGVcbiAqIFtBbmltYXRpb25zXShkb2NzL2FuaW1hdGlvbnMuaHRtbCN1c2luZy10aGUtbmF0aXZlLWRyaXZlcikgZ3VpZGUgdG8gbGVhcm5cbiAqIG1vcmUuXG4gKlxuICogIyMjIEFuaW1hdGFibGUgY29tcG9uZW50c1xuICpcbiAqIE9ubHkgYW5pbWF0YWJsZSBjb21wb25lbnRzIGNhbiBiZSBhbmltYXRlZC4gVGhlc2Ugc3BlY2lhbCBjb21wb25lbnRzIGRvIHRoZVxuICogbWFnaWMgb2YgYmluZGluZyB0aGUgYW5pbWF0ZWQgdmFsdWVzIHRvIHRoZSBwcm9wZXJ0aWVzLCBhbmQgZG8gdGFyZ2V0ZWRcbiAqIG5hdGl2ZSB1cGRhdGVzIHRvIGF2b2lkIHRoZSBjb3N0IG9mIHRoZSByZWFjdCByZW5kZXIgYW5kIHJlY29uY2lsaWF0aW9uXG4gKiBwcm9jZXNzIG9uIGV2ZXJ5IGZyYW1lLiBUaGV5IGFsc28gaGFuZGxlIGNsZWFudXAgb24gdW5tb3VudCBzbyB0aGV5IGFyZSBzYWZlXG4gKiBieSBkZWZhdWx0LlxuICpcbiAqIC0gW2BjcmVhdGVBbmltYXRlZENvbXBvbmVudCgpYF0oZG9jcy9hbmltYXRlZC5odG1sI2NyZWF0ZWFuaW1hdGVkY29tcG9uZW50KVxuICogICBjYW4gYmUgdXNlZCB0byBtYWtlIGEgY29tcG9uZW50IGFuaW1hdGFibGUuXG4gKlxuICogYEFuaW1hdGVkYCBleHBvcnRzIHRoZSBmb2xsb3dpbmcgYW5pbWF0YWJsZSBjb21wb25lbnRzIHVzaW5nIHRoZSBhYm92ZVxuICogd3JhcHBlcjpcbiAqXG4gKiAtIGBBbmltYXRlZC5JbWFnZWBcbiAqIC0gYEFuaW1hdGVkLlNjcm9sbFZpZXdgXG4gKiAtIGBBbmltYXRlZC5UZXh0YFxuICogLSBgQW5pbWF0ZWQuVmlld2BcbiAqXG4gKiAjIyMgQ29tcG9zaW5nIGFuaW1hdGlvbnNcbiAqXG4gKiBBbmltYXRpb25zIGNhbiBhbHNvIGJlIGNvbWJpbmVkIGluIGNvbXBsZXggd2F5cyB1c2luZyBjb21wb3NpdGlvbiBmdW5jdGlvbnM6XG4gKlxuICogLSBbYEFuaW1hdGVkLmRlbGF5KClgXShkb2NzL2FuaW1hdGVkLmh0bWwjZGVsYXkpIHN0YXJ0cyBhbiBhbmltYXRpb24gYWZ0ZXJcbiAqICAgYSBnaXZlbiBkZWxheS5cbiAqIC0gW2BBbmltYXRlZC5wYXJhbGxlbCgpYF0oZG9jcy9hbmltYXRlZC5odG1sI3BhcmFsbGVsKSBzdGFydHMgYSBudW1iZXIgb2ZcbiAqICAgYW5pbWF0aW9ucyBhdCB0aGUgc2FtZSB0aW1lLlxuICogLSBbYEFuaW1hdGVkLnNlcXVlbmNlKClgXShkb2NzL2FuaW1hdGVkLmh0bWwjc2VxdWVuY2UpIHN0YXJ0cyB0aGUgYW5pbWF0aW9uc1xuICogICBpbiBvcmRlciwgd2FpdGluZyBmb3IgZWFjaCB0byBjb21wbGV0ZSBiZWZvcmUgc3RhcnRpbmcgdGhlIG5leHQuXG4gKiAtIFtgQW5pbWF0ZWQuc3RhZ2dlcigpYF0oZG9jcy9hbmltYXRlZC5odG1sI3N0YWdnZXIpIHN0YXJ0cyBhbmltYXRpb25zIGluXG4gKiAgIG9yZGVyIGFuZCBpbiBwYXJhbGxlbCwgYnV0IHdpdGggc3VjY2Vzc2l2ZSBkZWxheXMuXG4gKlxuICogQW5pbWF0aW9ucyBjYW4gYWxzbyBiZSBjaGFpbmVkIHRvZ2V0aGVyIHNpbXBseSBieSBzZXR0aW5nIHRoZSBgdG9WYWx1ZWAgb2ZcbiAqIG9uZSBhbmltYXRpb24gdG8gYmUgYW5vdGhlciBgQW5pbWF0ZWQuVmFsdWVgLiBTZWVcbiAqIFtUcmFja2luZyBkeW5hbWljIHZhbHVlc10oZG9jcy9hbmltYXRpb25zLmh0bWwjdHJhY2tpbmctZHluYW1pYy12YWx1ZXMpIGluXG4gKiB0aGUgQW5pbWF0aW9ucyBndWlkZS5cbiAqXG4gKiBCeSBkZWZhdWx0LCBpZiBvbmUgYW5pbWF0aW9uIGlzIHN0b3BwZWQgb3IgaW50ZXJydXB0ZWQsIHRoZW4gYWxsIG90aGVyXG4gKiBhbmltYXRpb25zIGluIHRoZSBncm91cCBhcmUgYWxzbyBzdG9wcGVkLlxuICpcbiAqICMjIyBDb21iaW5pbmcgYW5pbWF0ZWQgdmFsdWVzXG4gKlxuICogWW91IGNhbiBjb21iaW5lIHR3byBhbmltYXRlZCB2YWx1ZXMgdmlhIGFkZGl0aW9uLCBtdWx0aXBsaWNhdGlvbiwgZGl2aXNpb24sXG4gKiBvciBtb2R1bG8gdG8gbWFrZSBhIG5ldyBhbmltYXRlZCB2YWx1ZTpcbiAqXG4gKiAtIFtgQW5pbWF0ZWQuYWRkKClgXShkb2NzL2FuaW1hdGVkLmh0bWwjYWRkKVxuICogLSBbYEFuaW1hdGVkLmRpdmlkZSgpYF0oZG9jcy9hbmltYXRlZC5odG1sI2RpdmlkZSlcbiAqIC0gW2BBbmltYXRlZC5tb2R1bG8oKWBdKGRvY3MvYW5pbWF0ZWQuaHRtbCNtb2R1bG8pXG4gKiAtIFtgQW5pbWF0ZWQubXVsdGlwbHkoKWBdKGRvY3MvYW5pbWF0ZWQuaHRtbCNtdWx0aXBseSlcbiAqXG4gKiAjIyMgSW50ZXJwb2xhdGlvblxuICpcbiAqIFRoZSBgaW50ZXJwb2xhdGUoKWAgZnVuY3Rpb24gYWxsb3dzIGlucHV0IHJhbmdlcyB0byBtYXAgdG8gZGlmZmVyZW50IG91dHB1dFxuICogcmFuZ2VzLiBCeSBkZWZhdWx0LCBpdCB3aWxsIGV4dHJhcG9sYXRlIHRoZSBjdXJ2ZSBiZXlvbmQgdGhlIHJhbmdlcyBnaXZlbixcbiAqIGJ1dCB5b3UgY2FuIGFsc28gaGF2ZSBpdCBjbGFtcCB0aGUgb3V0cHV0IHZhbHVlLiBJdCB1c2VzIGxpbmVhbCBpbnRlcnBvbGF0aW9uXG4gKiBieSBkZWZhdWx0IGJ1dCBhbHNvIHN1cHBvcnRzIGVhc2luZyBmdW5jdGlvbnMuXG4gKlxuICogLSBbYGludGVycG9sYXRlKClgXShkb2NzL2FuaW1hdGVkLmh0bWwjaW50ZXJwb2xhdGUpXG4gKlxuICogUmVhZCBtb3JlIGFib3V0IGludGVycG9sYXRpb24gaW4gdGhlXG4gKiBbQW5pbWF0aW9uXShkb2NzL2FuaW1hdGlvbnMuaHRtbCNpbnRlcnBvbGF0aW9uKSBndWlkZS5cbiAqXG4gKiAjIyMgSGFuZGxpbmcgZ2VzdHVyZXMgYW5kIG90aGVyIGV2ZW50c1xuICpcbiAqIEdlc3R1cmVzLCBsaWtlIHBhbm5pbmcgb3Igc2Nyb2xsaW5nLCBhbmQgb3RoZXIgZXZlbnRzIGNhbiBtYXAgZGlyZWN0bHkgdG9cbiAqIGFuaW1hdGVkIHZhbHVlcyB1c2luZyBgQW5pbWF0ZWQuZXZlbnQoKWAuIFRoaXMgaXMgZG9uZSB3aXRoIGEgc3RydWN0dXJlZCBtYXBcbiAqIHN5bnRheCBzbyB0aGF0IHZhbHVlcyBjYW4gYmUgZXh0cmFjdGVkIGZyb20gY29tcGxleCBldmVudCBvYmplY3RzLiBUaGUgZmlyc3RcbiAqIGxldmVsIGlzIGFuIGFycmF5IHRvIGFsbG93IG1hcHBpbmcgYWNyb3NzIG11bHRpcGxlIGFyZ3MsIGFuZCB0aGF0IGFycmF5XG4gKiBjb250YWlucyBuZXN0ZWQgb2JqZWN0cy5cbiAqXG4gKiAtIFtgQW5pbWF0ZWQuZXZlbnQoKWBdKGRvY3MvYW5pbWF0ZWQuaHRtbCNldmVudClcbiAqXG4gKiBGb3IgZXhhbXBsZSwgd2hlbiB3b3JraW5nIHdpdGggaG9yaXpvbnRhbCBzY3JvbGxpbmcgZ2VzdHVyZXMsIHlvdSB3b3VsZCBkb1xuICogdGhlIGZvbGxvd2luZyBpbiBvcmRlciB0byBtYXAgYGV2ZW50Lm5hdGl2ZUV2ZW50LmNvbnRlbnRPZmZzZXQueGAgdG9cbiAqIGBzY3JvbGxYYCAoYW4gYEFuaW1hdGVkLlZhbHVlYCk6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogIG9uU2Nyb2xsPXtBbmltYXRlZC5ldmVudChcbiAqICAgIC8vIHNjcm9sbFggPSBlLm5hdGl2ZUV2ZW50LmNvbnRlbnRPZmZzZXQueFxuICogICAgW3sgbmF0aXZlRXZlbnQ6IHtcbiAqICAgICAgICAgY29udGVudE9mZnNldDoge1xuICogICAgICAgICAgIHg6IHNjcm9sbFhcbiAqICAgICAgICAgfVxuICogICAgICAgfVxuICogICAgIH1dXG4gKiAgKX1cbiAqIGBgYFxuICpcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBTdGFuZGFyZCB2YWx1ZSBjbGFzcyBmb3IgZHJpdmluZyBhbmltYXRpb25zLiAgVHlwaWNhbGx5IGluaXRpYWxpemVkIHdpdGhcbiAgICogYG5ldyBBbmltYXRlZC5WYWx1ZSgwKTtgXG4gICAqXG4gICAqIFNlZSBhbHNvIFtgQW5pbWF0ZWRWYWx1ZWBdKGRvY3MvYW5pbWF0ZWQuaHRtbCNhbmltYXRlZHZhbHVlKS5cbiAgICovXG4gIFZhbHVlOiBBbmltYXRlZFZhbHVlLFxuICAvKipcbiAgICogMkQgdmFsdWUgY2xhc3MgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuXG4gICAqXG4gICAqIFNlZSBhbHNvIFtgQW5pbWF0ZWRWYWx1ZVhZYF0oZG9jcy9hbmltYXRlZC5odG1sI2FuaW1hdGVkdmFsdWV4eSkuXG4gICAqL1xuICBWYWx1ZVhZOiBBbmltYXRlZFZhbHVlWFksXG4gIC8qKlxuICAgKiBleHBvcnRlZCB0byB1c2UgdGhlIEludGVycG9sYXRpb24gdHlwZSBpbiBmbG93XG4gICAqXG4gICAqIFNlZSBhbHNvIFtgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uYF0oZG9jcy9hbmltYXRlZC5odG1sI2FuaW1hdGVkaW50ZXJwb2xhdGlvbikuXG4gICAqL1xuICBJbnRlcnBvbGF0aW9uOiBBbmltYXRlZEludGVycG9sYXRpb24sXG4gIC8qKlxuICAgKiBFeHBvcnRlZCBmb3IgZWFzZSBvZiB0eXBlIGNoZWNraW5nLiBBbGwgYW5pbWF0ZWQgdmFsdWVzIGRlcml2ZSBmcm9tIHRoaXMgY2xhc3MuXG4gICAqL1xuICBOb2RlOiBBbmltYXRlZE5vZGUsXG5cbiAgLyoqXG4gICAqIEFuaW1hdGVzIGEgdmFsdWUgZnJvbSBhbiBpbml0aWFsIHZlbG9jaXR5IHRvIHplcm8gYmFzZWQgb24gYSBkZWNheVxuICAgKiBjb2VmZmljaWVudC5cbiAgICpcbiAgICogQ29uZmlnIGlzIGFuIG9iamVjdCB0aGF0IG1heSBoYXZlIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcbiAgICpcbiAgICogICAtIGB2ZWxvY2l0eWA6IEluaXRpYWwgdmVsb2NpdHkuICBSZXF1aXJlZC5cbiAgICogICAtIGBkZWNlbGVyYXRpb25gOiBSYXRlIG9mIGRlY2F5LiAgRGVmYXVsdCAwLjk5Ny5cbiAgICogICAtIGBpc0ludGVyYWN0aW9uYDogV2hldGhlciBvciBub3QgdGhpcyBhbmltYXRpb24gY3JlYXRlcyBhbiBcImludGVyYWN0aW9uIGhhbmRsZVwiIG9uIHRoZVxuICAgKiAgICAgYEludGVyYWN0aW9uTWFuYWdlcmAuIERlZmF1bHQgdHJ1ZS5cbiAgICogICAtIGB1c2VOYXRpdmVEcml2ZXJgOiBVc2VzIHRoZSBuYXRpdmUgZHJpdmVyIHdoZW4gdHJ1ZS4gRGVmYXVsdCBmYWxzZS5cbiAgICovXG4gIGRlY2F5LFxuICAvKipcbiAgICogQW5pbWF0ZXMgYSB2YWx1ZSBhbG9uZyBhIHRpbWVkIGVhc2luZyBjdXJ2ZS4gVGhlXG4gICAqIFtgRWFzaW5nYF0oZG9jcy9lYXNpbmcuaHRtbCkgbW9kdWxlIGhhcyB0b25zIG9mIHByZWRlZmluZWQgY3VydmVzLCBvciB5b3VcbiAgICogY2FuIHVzZSB5b3VyIG93biBmdW5jdGlvbi5cbiAgICpcbiAgICogQ29uZmlnIGlzIGFuIG9iamVjdCB0aGF0IG1heSBoYXZlIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcbiAgICpcbiAgICogICAtIGBkdXJhdGlvbmA6IExlbmd0aCBvZiBhbmltYXRpb24gKG1pbGxpc2Vjb25kcykuICBEZWZhdWx0IDUwMC5cbiAgICogICAtIGBlYXNpbmdgOiBFYXNpbmcgZnVuY3Rpb24gdG8gZGVmaW5lIGN1cnZlLlxuICAgKiAgICAgRGVmYXVsdCBpcyBgRWFzaW5nLmluT3V0KEVhc2luZy5lYXNlKWAuXG4gICAqICAgLSBgZGVsYXlgOiBTdGFydCB0aGUgYW5pbWF0aW9uIGFmdGVyIGRlbGF5IChtaWxsaXNlY29uZHMpLiAgRGVmYXVsdCAwLlxuICAgKiAgIC0gYGlzSW50ZXJhY3Rpb25gOiBXaGV0aGVyIG9yIG5vdCB0aGlzIGFuaW1hdGlvbiBjcmVhdGVzIGFuIFwiaW50ZXJhY3Rpb24gaGFuZGxlXCIgb24gdGhlXG4gICAqICAgICBgSW50ZXJhY3Rpb25NYW5hZ2VyYC4gRGVmYXVsdCB0cnVlLlxuICAgKiAgIC0gYHVzZU5hdGl2ZURyaXZlcmA6IFVzZXMgdGhlIG5hdGl2ZSBkcml2ZXIgd2hlbiB0cnVlLiBEZWZhdWx0IGZhbHNlLlxuICAgKi9cbiAgdGltaW5nLFxuICAvKipcbiAgICogQW5pbWF0ZXMgYSB2YWx1ZSBhY2NvcmRpbmcgdG8gYW4gYW5hbHl0aWNhbCBzcHJpbmcgbW9kZWwgYmFzZWQgb25cbiAgICogW2RhbXBlZCBoYXJtb25pYyBvc2NpbGxhdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGFybW9uaWNfb3NjaWxsYXRvciNEYW1wZWRfaGFybW9uaWNfb3NjaWxsYXRvcikuXG4gICAqIFRyYWNrcyB2ZWxvY2l0eSBzdGF0ZSB0byBjcmVhdGUgZmx1aWQgbW90aW9ucyBhcyB0aGUgYHRvVmFsdWVgIHVwZGF0ZXMsIGFuZFxuICAgKiBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci5cbiAgICpcbiAgICogQ29uZmlnIGlzIGFuIG9iamVjdCB0aGF0IG1heSBoYXZlIHRoZSBmb2xsb3dpbmcgb3B0aW9ucy5cbiAgICpcbiAgICogTm90ZSB0aGF0IHlvdSBjYW4gb25seSBkZWZpbmUgb25lIG9mIGJvdW5jaW5lc3Mvc3BlZWQsIHRlbnNpb24vZnJpY3Rpb24sIG9yXG4gICAqIHN0aWZmbmVzcy9kYW1waW5nL21hc3MsIGJ1dCBub3QgbW9yZSB0aGFuIG9uZTpcbiAgICpcbiAgICogVGhlIGZyaWN0aW9uL3RlbnNpb24gb3IgYm91bmNpbmVzcy9zcGVlZCBvcHRpb25zIG1hdGNoIHRoZSBzcHJpbmcgbW9kZWwgaW5cbiAgICogW0ZhY2Vib29rIFBvcF0oaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3BvcCksIFtSZWJvdW5kXShodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYm91bmQvKSxcbiAgICogYW5kIFtPcmlnYW1pXShodHRwOi8vb3JpZ2FtaS5kZXNpZ24vKS5cbiAgICpcbiAgICogICAtIGBmcmljdGlvbmA6IENvbnRyb2xzIFwiYm91bmNpbmVzc1wiL292ZXJzaG9vdC4gIERlZmF1bHQgNy5cbiAgICogICAtIGB0ZW5zaW9uYDogQ29udHJvbHMgc3BlZWQuICBEZWZhdWx0IDQwLlxuICAgKiAgIC0gYHNwZWVkYDogQ29udHJvbHMgc3BlZWQgb2YgdGhlIGFuaW1hdGlvbi4gRGVmYXVsdCAxMi5cbiAgICogICAtIGBib3VuY2luZXNzYDogQ29udHJvbHMgYm91bmNpbmVzcy4gRGVmYXVsdCA4LlxuICAgKlxuICAgKiBTcGVjaWZ5aW5nIHN0aWZmbmVzcy9kYW1waW5nL21hc3MgYXMgcGFyYW1ldGVycyBtYWtlcyBgQW5pbWF0ZWQuc3ByaW5nYCB1c2UgYW5cbiAgICogYW5hbHl0aWNhbCBzcHJpbmcgbW9kZWwgYmFzZWQgb24gdGhlIG1vdGlvbiBlcXVhdGlvbnMgb2YgYSBbZGFtcGVkIGhhcm1vbmljXG4gICAqIG9zY2lsbGF0b3JdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhcm1vbmljX29zY2lsbGF0b3IjRGFtcGVkX2hhcm1vbmljX29zY2lsbGF0b3IpLlxuICAgKiBUaGlzIGJlaGF2aW9yIGlzIHNsaWdodGx5IG1vcmUgcHJlY2lzZSBhbmQgZmFpdGhmdWwgdG8gdGhlIHBoeXNpY3MgYmVoaW5kXG4gICAqIHNwcmluZyBkeW5hbWljcywgYW5kIGNsb3NlbHkgbWltaWNzIHRoZSBpbXBsZW1lbnRhdGlvbiBpbiBpT1Mnc1xuICAgKiBDQVNwcmluZ0FuaW1hdGlvbiBwcmltaXRpdmUuXG4gICAqXG4gICAqICAgLSBgc3RpZmZuZXNzYDogVGhlIHNwcmluZyBzdGlmZm5lc3MgY29lZmZpY2llbnQuIERlZmF1bHQgMTAwLlxuICAgKiAgIC0gYGRhbXBpbmdgOiBEZWZpbmVzIGhvdyB0aGUgc3ByaW5n4oCZcyBtb3Rpb24gc2hvdWxkIGJlIGRhbXBlZCBkdWUgdG8gdGhlIGZvcmNlcyBvZiBmcmljdGlvbi5cbiAgICogICAgIERlZmF1bHQgMTAuXG4gICAqICAgLSBgbWFzc2A6IFRoZSBtYXNzIG9mIHRoZSBvYmplY3QgYXR0YWNoZWQgdG8gdGhlIGVuZCBvZiB0aGUgc3ByaW5nLiBEZWZhdWx0IDEuXG4gICAqXG4gICAqIE90aGVyIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhcmUgYXMgZm9sbG93czpcbiAgICpcbiAgICogICAtIGB2ZWxvY2l0eWA6IFRoZSBpbml0aWFsIHZlbG9jaXR5IG9mIHRoZSBvYmplY3QgYXR0YWNoZWQgdG8gdGhlIHNwcmluZy4gRGVmYXVsdCAwIChvYmplY3RcbiAgICogICAgIGlzIGF0IHJlc3QpLlxuICAgKiAgIC0gYG92ZXJzaG9vdENsYW1waW5nYDogQm9vbGVhbiBpbmRpY2lhdGluZyB3aGV0aGVyIHRoZSBzcHJpbmcgc2hvdWxkIGJlIGNsYW1wZWQgYW5kIG5vdFxuICAgKiAgICAgYm91bmNlLiBEZWZhdWx0IGZhbHNlLlxuICAgKiAgIC0gYHJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGRgOiBUaGUgdGhyZXNob2xkIG9mIGRpc3BsYWNlbWVudCBmcm9tIHJlc3QgYmVsb3cgd2hpY2ggdGhlXG4gICAqICAgICBzcHJpbmcgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXQgcmVzdC4gRGVmYXVsdCAwLjAwMS5cbiAgICogICAtIGByZXN0U3BlZWRUaHJlc2hvbGRgOiBUaGUgc3BlZWQgYXQgd2hpY2ggdGhlIHNwcmluZyBzaG91bGQgYmUgY29uc2lkZXJlZCBhdCByZXN0IGluIHBpeGVsc1xuICAgKiAgICAgcGVyIHNlY29uZC4gRGVmYXVsdCAwLjAwMS5cbiAgICogICAtIGBkZWxheWA6IFN0YXJ0IHRoZSBhbmltYXRpb24gYWZ0ZXIgZGVsYXkgKG1pbGxpc2Vjb25kcykuICBEZWZhdWx0IDAuXG4gICAqICAgLSBgaXNJbnRlcmFjdGlvbmA6IFdoZXRoZXIgb3Igbm90IHRoaXMgYW5pbWF0aW9uIGNyZWF0ZXMgYW4gXCJpbnRlcmFjdGlvbiBoYW5kbGVcIiBvbiB0aGVcbiAgICogICAgIGBJbnRlcmFjdGlvbk1hbmFnZXJgLiBEZWZhdWx0IHRydWUuXG4gICAqICAgLSBgdXNlTmF0aXZlRHJpdmVyYDogVXNlcyB0aGUgbmF0aXZlIGRyaXZlciB3aGVuIHRydWUuIERlZmF1bHQgZmFsc2UuXG4gICAqL1xuICBzcHJpbmcsXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgY29tcG9zZWQgZnJvbSB0d28gQW5pbWF0ZWQgdmFsdWVzIGFkZGVkXG4gICAqIHRvZ2V0aGVyLlxuICAgKi9cbiAgYWRkLFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFuaW1hdGVkIHZhbHVlIGNvbXBvc2VkIGJ5IGRpdmlkaW5nIHRoZSBmaXJzdCBBbmltYXRlZCB2YWx1ZVxuICAgKiBieSB0aGUgc2Vjb25kIEFuaW1hdGVkIHZhbHVlLlxuICAgKi9cbiAgZGl2aWRlLFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFuaW1hdGVkIHZhbHVlIGNvbXBvc2VkIGZyb20gdHdvIEFuaW1hdGVkIHZhbHVlcyBtdWx0aXBsaWVkXG4gICAqIHRvZ2V0aGVyLlxuICAgKi9cbiAgbXVsdGlwbHksXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgdGhhdCBpcyB0aGUgKG5vbi1uZWdhdGl2ZSkgbW9kdWxvIG9mIHRoZVxuICAgKiBwcm92aWRlZCBBbmltYXRlZCB2YWx1ZVxuICAgKi9cbiAgbW9kdWxvLFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgdGhhdCBpcyBsaW1pdGVkIGJldHdlZW4gMiB2YWx1ZXMuIEl0IHVzZXMgdGhlXG4gICAqIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgbGFzdCB2YWx1ZSBzbyBldmVuIGlmIHRoZSB2YWx1ZSBpcyBmYXIgZnJvbSB0aGUgYm91bmRzXG4gICAqIGl0IHdpbGwgc3RhcnQgY2hhbmdpbmcgd2hlbiB0aGUgdmFsdWUgc3RhcnRzIGdldHRpbmcgY2xvc2VyIGFnYWluLlxuICAgKiAoYHZhbHVlID0gY2xhbXAodmFsdWUgKyBkaWZmLCBtaW4sIG1heClgKS5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgd2l0aCBzY3JvbGwgZXZlbnRzLCBmb3IgZXhhbXBsZSwgdG8gc2hvdyB0aGUgbmF2YmFyIHdoZW5cbiAgICogc2Nyb2xsaW5nIHVwIGFuZCB0byBoaWRlIGl0IHdoZW4gc2Nyb2xsaW5nIGRvd24uXG4gICAqL1xuICBkaWZmQ2xhbXAsXG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBhbiBhbmltYXRpb24gYWZ0ZXIgdGhlIGdpdmVuIGRlbGF5LlxuICAgKi9cbiAgZGVsYXksXG4gIC8qKlxuICAgKiBTdGFydHMgYW4gYXJyYXkgb2YgYW5pbWF0aW9ucyBpbiBvcmRlciwgd2FpdGluZyBmb3IgZWFjaCB0byBjb21wbGV0ZVxuICAgKiBiZWZvcmUgc3RhcnRpbmcgdGhlIG5leHQuICBJZiB0aGUgY3VycmVudCBydW5uaW5nIGFuaW1hdGlvbiBpcyBzdG9wcGVkLCBub1xuICAgKiBmb2xsb3dpbmcgYW5pbWF0aW9ucyB3aWxsIGJlIHN0YXJ0ZWQuXG4gICAqL1xuICBzZXF1ZW5jZSxcbiAgLyoqXG4gICAqIFN0YXJ0cyBhbiBhcnJheSBvZiBhbmltYXRpb25zIGFsbCBhdCB0aGUgc2FtZSB0aW1lLiAgQnkgZGVmYXVsdCwgaWYgb25lXG4gICAqIG9mIHRoZSBhbmltYXRpb25zIGlzIHN0b3BwZWQsIHRoZXkgd2lsbCBhbGwgYmUgc3RvcHBlZC4gIFlvdSBjYW4gb3ZlcnJpZGVcbiAgICogdGhpcyB3aXRoIHRoZSBgc3RvcFRvZ2V0aGVyYCBmbGFnLlxuICAgKi9cbiAgcGFyYWxsZWwsXG4gIC8qKlxuICAgKiBBcnJheSBvZiBhbmltYXRpb25zIG1heSBydW4gaW4gcGFyYWxsZWwgKG92ZXJsYXApLCBidXQgYXJlIHN0YXJ0ZWQgaW5cbiAgICogc2VxdWVuY2Ugd2l0aCBzdWNjZXNzaXZlIGRlbGF5cy4gIE5pY2UgZm9yIGRvaW5nIHRyYWlsaW5nIGVmZmVjdHMuXG4gICAqL1xuICBzdGFnZ2VyLFxuICAvKipcbiAgKiBMb29wcyBhIGdpdmVuIGFuaW1hdGlvbiBjb250aW51b3VzbHksIHNvIHRoYXQgZWFjaCB0aW1lIGl0IHJlYWNoZXMgdGhlXG4gICogZW5kLCBpdCByZXNldHMgYW5kIGJlZ2lucyBhZ2FpbiBmcm9tIHRoZSBzdGFydC4gQ2FuIHNwZWNpZnkgbnVtYmVyIG9mXG4gICogdGltZXMgdG8gbG9vcCB1c2luZyB0aGUga2V5IGBpdGVyYXRpb25zYCBpbiB0aGUgY29uZmlnLiBXaWxsIGxvb3Agd2l0aG91dFxuICAqIGJsb2NraW5nIHRoZSBVSSB0aHJlYWQgaWYgdGhlIGNoaWxkIGFuaW1hdGlvbiBpcyBzZXQgdG8gYHVzZU5hdGl2ZURyaXZlcjogdHJ1ZWAuXG4gICogSW4gYWRkaXRpb24sIGxvb3BzIGNhbiBwcmV2ZW50IGBWaXJ0dWFsaXplZExpc3RgLWJhc2VkIGNvbXBvbmVudHMgZnJvbSByZW5kZXJpbmdcbiAgKiBtb3JlIHJvd3Mgd2hpbGUgdGhlIGFuaW1hdGlvbiBpcyBydW5uaW5nLiBZb3UgY2FuIHBhc3MgYGlzSW50ZXJhY3Rpb246IGZhbHNlYCBpbiB0aGVcbiAgKiBjaGlsZCBhbmltYXRpb24gY29uZmlnIHRvIGZpeCB0aGlzLlxuICAqL1xuICBsb29wLFxuXG4gIC8qKlxuICAgKiBUYWtlcyBhbiBhcnJheSBvZiBtYXBwaW5ncyBhbmQgZXh0cmFjdHMgdmFsdWVzIGZyb20gZWFjaCBhcmcgYWNjb3JkaW5nbHksXG4gICAqIHRoZW4gY2FsbHMgYHNldFZhbHVlYCBvbiB0aGUgbWFwcGVkIG91dHB1dHMuICBlLmcuXG4gICAqXG4gICAqYGBgamF2YXNjcmlwdFxuICAgKiAgb25TY3JvbGw9e0FuaW1hdGVkLmV2ZW50KFxuICAgKiAgICBbe25hdGl2ZUV2ZW50OiB7Y29udGVudE9mZnNldDoge3g6IHRoaXMuX3Njcm9sbFh9fX1dLFxuICAgKiAgICB7bGlzdGVuZXI6IChldmVudCkgPT4gY29uc29sZS5sb2coZXZlbnQpfSwgLy8gT3B0aW9uYWwgYXN5bmMgbGlzdGVuZXJcbiAgICogICl9XG4gICAqICAuLi5cbiAgICogIG9uUGFuUmVzcG9uZGVyTW92ZTogQW5pbWF0ZWQuZXZlbnQoW1xuICAgKiAgICBudWxsLCAgICAgICAgICAgICAgICAvLyByYXcgZXZlbnQgYXJnIGlnbm9yZWRcbiAgICogICAge2R4OiB0aGlzLl9wYW5YfSwgICAgLy8gZ2VzdHVyZVN0YXRlIGFyZ1xuICAgICAgICB7bGlzdGVuZXI6IChldmVudCwgZ2VzdHVyZVN0YXRlKSA9PiBjb25zb2xlLmxvZyhldmVudCwgZ2VzdHVyZVN0YXRlKX0sIC8vIE9wdGlvbmFsIGFzeW5jIGxpc3RlbmVyXG4gICAqICBdKSxcbiAgICpgYGBcbiAgICpcbiAgICogQ29uZmlnIGlzIGFuIG9iamVjdCB0aGF0IG1heSBoYXZlIHRoZSBmb2xsb3dpbmcgb3B0aW9uczpcbiAgICpcbiAgICogICAtIGBsaXN0ZW5lcmA6IE9wdGlvbmFsIGFzeW5jIGxpc3RlbmVyLlxuICAgKiAgIC0gYHVzZU5hdGl2ZURyaXZlcmA6IFVzZXMgdGhlIG5hdGl2ZSBkcml2ZXIgd2hlbiB0cnVlLiBEZWZhdWx0IGZhbHNlLlxuICAgKi9cbiAgZXZlbnQsXG5cbiAgLyoqXG4gICAqIE1ha2UgYW55IFJlYWN0IGNvbXBvbmVudCBBbmltYXRhYmxlLiAgVXNlZCB0byBjcmVhdGUgYEFuaW1hdGVkLlZpZXdgLCBldGMuXG4gICAqL1xuICBjcmVhdGVBbmltYXRlZENvbXBvbmVudCxcblxuICAvKipcbiAgICogSW1wZXJhdGl2ZSBBUEkgdG8gYXR0YWNoIGFuIGFuaW1hdGVkIHZhbHVlIHRvIGFuIGV2ZW50IG9uIGEgdmlldy4gUHJlZmVyIHVzaW5nXG4gICAqIGBBbmltYXRlZC5ldmVudGAgd2l0aCBgdXNlTmF0aXZlRHJpdmU6IHRydWVgIGlmIHBvc3NpYmxlLlxuICAgKi9cbiAgYXR0YWNoTmF0aXZlRXZlbnQsXG5cbiAgLyoqXG4gICAqIEFkdmFuY2VkIGltcGVyYXRpdmUgQVBJIGZvciBzbm9vcGluZyBvbiBhbmltYXRlZCBldmVudHMgdGhhdCBhcmUgcGFzc2VkIGluIHRocm91Z2ggcHJvcHMuIFVzZVxuICAgKiB2YWx1ZXMgZGlyZWN0bHkgd2hlcmUgcG9zc2libGUuXG4gICAqL1xuICBmb3JrRXZlbnQsXG4gIHVuZm9ya0V2ZW50LFxuXG4gIF9fUHJvcHNPbmx5Rm9yVGVzdHM6IEFuaW1hdGVkUHJvcHMsXG59O1xuIl19