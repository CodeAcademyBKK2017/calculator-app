407f0e77c0a7a87e3fe517eabf54d43a











'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};



var Animated=require('Animated');
var Easing=require('Easing');
var NativeMethodsMixin=require('NativeMethodsMixin');
var React=require('React');
var PropTypes=require('prop-types');
var TimerMixin=require('react-timer-mixin');
var Touchable=require('Touchable');
var TouchableWithoutFeedback=require('TouchableWithoutFeedback');

var createReactClass=require('create-react-class');
var ensurePositiveDelayProps=require('ensurePositiveDelayProps');
var flattenStyle=require('flattenStyle');



var PRESS_RETENTION_OFFSET={top:20,left:20,right:20,bottom:30};

























































































var TouchableOpacity=createReactClass({
displayName:'TouchableOpacity',
mixins:[TimerMixin,Touchable.Mixin,NativeMethodsMixin],

propTypes:_extends({},
TouchableWithoutFeedback.propTypes,{




activeOpacity:PropTypes.number,





hasTVPreferredFocus:PropTypes.bool,



tvParallaxProperties:PropTypes.object}),


getDefaultProps:function getDefaultProps(){
return{
activeOpacity:0.2};

},

getInitialState:function getInitialState(){
return _extends({},
this.touchableGetInitialState(),{
anim:new Animated.Value(this._getChildStyleOpacityWithDefault())});

},

componentDidMount:function componentDidMount(){
ensurePositiveDelayProps(this.props);
},

componentWillReceiveProps:function componentWillReceiveProps(nextProps){
ensurePositiveDelayProps(nextProps);
},




setOpacityTo:function setOpacityTo(value,duration){
Animated.timing(
this.state.anim,
{
toValue:value,
duration:duration,
easing:Easing.inOut(Easing.quad),
useNativeDriver:true}).

start();
},





touchableHandleActivePressIn:function touchableHandleActivePressIn(e){
if(e.dispatchConfig.registrationName==='onResponderGrant'){
this._opacityActive(0);
}else{
this._opacityActive(150);
}
this.props.onPressIn&&this.props.onPressIn(e);
},

touchableHandleActivePressOut:function touchableHandleActivePressOut(e){
this._opacityInactive(250);
this.props.onPressOut&&this.props.onPressOut(e);
},

touchableHandlePress:function touchableHandlePress(e){
this.props.onPress&&this.props.onPress(e);
},

touchableHandleLongPress:function touchableHandleLongPress(e){
this.props.onLongPress&&this.props.onLongPress(e);
},

touchableGetPressRectOffset:function touchableGetPressRectOffset(){
return this.props.pressRetentionOffset||PRESS_RETENTION_OFFSET;
},

touchableGetHitSlop:function touchableGetHitSlop(){
return this.props.hitSlop;
},

touchableGetHighlightDelayMS:function touchableGetHighlightDelayMS(){
return this.props.delayPressIn||0;
},

touchableGetLongPressDelayMS:function touchableGetLongPressDelayMS(){
return this.props.delayLongPress===0?0:
this.props.delayLongPress||500;
},

touchableGetPressOutDelayMS:function touchableGetPressOutDelayMS(){
return this.props.delayPressOut;
},

_opacityActive:function _opacityActive(duration){
this.setOpacityTo(this.props.activeOpacity,duration);
},

_opacityInactive:function _opacityInactive(duration){
this.setOpacityTo(
this._getChildStyleOpacityWithDefault(),
duration);

},

_getChildStyleOpacityWithDefault:function _getChildStyleOpacityWithDefault(){
var childStyle=flattenStyle(this.props.style)||{};
return childStyle.opacity==undefined?1:childStyle.opacity;
},

render:function render(){
return(
React.createElement(Animated.View,{
accessible:this.props.accessible!==false,
accessibilityLabel:this.props.accessibilityLabel,
accessibilityComponentType:this.props.accessibilityComponentType,
accessibilityTraits:this.props.accessibilityTraits,
style:[this.props.style,{opacity:this.state.anim}],
nativeID:this.props.nativeID,
testID:this.props.testID,
onLayout:this.props.onLayout,
isTVSelectable:true,
hasTVPreferredFocus:this.props.hasTVPreferredFocus,
tvParallaxProperties:this.props.tvParallaxProperties,
hitSlop:this.props.hitSlop,
onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,
onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,
onResponderGrant:this.touchableHandleResponderGrant,
onResponderMove:this.touchableHandleResponderMove,
onResponderRelease:this.touchableHandleResponderRelease,
onResponderTerminate:this.touchableHandleResponderTerminate},
this.props.children,
Touchable.renderDebugView({color:'cyan',hitSlop:this.props.hitSlop})));


}});


module.exports=TouchableOpacity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZU9wYWNpdHkuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWQiLCJyZXF1aXJlIiwiRWFzaW5nIiwiTmF0aXZlTWV0aG9kc01peGluIiwiUmVhY3QiLCJQcm9wVHlwZXMiLCJUaW1lck1peGluIiwiVG91Y2hhYmxlIiwiVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIiwiY3JlYXRlUmVhY3RDbGFzcyIsImVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyIsImZsYXR0ZW5TdHlsZSIsIlBSRVNTX1JFVEVOVElPTl9PRkZTRVQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJUb3VjaGFibGVPcGFjaXR5IiwiZGlzcGxheU5hbWUiLCJtaXhpbnMiLCJNaXhpbiIsInByb3BUeXBlcyIsImFjdGl2ZU9wYWNpdHkiLCJudW1iZXIiLCJoYXNUVlByZWZlcnJlZEZvY3VzIiwiYm9vbCIsInR2UGFyYWxsYXhQcm9wZXJ0aWVzIiwib2JqZWN0IiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwidG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlIiwiYW5pbSIsIlZhbHVlIiwiX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQiLCJjb21wb25lbnREaWRNb3VudCIsInByb3BzIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsInNldE9wYWNpdHlUbyIsInZhbHVlIiwiZHVyYXRpb24iLCJ0aW1pbmciLCJzdGF0ZSIsInRvVmFsdWUiLCJlYXNpbmciLCJpbk91dCIsInF1YWQiLCJ1c2VOYXRpdmVEcml2ZXIiLCJzdGFydCIsInRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW4iLCJlIiwiZGlzcGF0Y2hDb25maWciLCJyZWdpc3RyYXRpb25OYW1lIiwiX29wYWNpdHlBY3RpdmUiLCJvblByZXNzSW4iLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dCIsIl9vcGFjaXR5SW5hY3RpdmUiLCJvblByZXNzT3V0IiwidG91Y2hhYmxlSGFuZGxlUHJlc3MiLCJvblByZXNzIiwidG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzIiwib25Mb25nUHJlc3MiLCJ0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQiLCJwcmVzc1JldGVudGlvbk9mZnNldCIsInRvdWNoYWJsZUdldEhpdFNsb3AiLCJoaXRTbG9wIiwidG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUyIsImRlbGF5UHJlc3NJbiIsInRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVMiLCJkZWxheUxvbmdQcmVzcyIsInRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyIsImRlbGF5UHJlc3NPdXQiLCJjaGlsZFN0eWxlIiwic3R5bGUiLCJvcGFjaXR5IiwidW5kZWZpbmVkIiwicmVuZGVyIiwiYWNjZXNzaWJsZSIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlIiwiYWNjZXNzaWJpbGl0eVRyYWl0cyIsIm5hdGl2ZUlEIiwidGVzdElEIiwib25MYXlvdXQiLCJ0b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlciIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50IiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyTW92ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2UiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGUiLCJjaGlsZHJlbiIsInJlbmRlckRlYnVnVmlldyIsImNvbG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFXQSxhOzs7O0FBSUEsR0FBSUEsVUFBV0MsUUFBUSxVQUFSLENBQWY7QUFDQSxHQUFJQyxRQUFTRCxRQUFRLFFBQVIsQ0FBYjtBQUNBLEdBQUlFLG9CQUFxQkYsUUFBUSxvQkFBUixDQUF6QjtBQUNBLEdBQUlHLE9BQVFILFFBQVEsT0FB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eS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgVG91Y2hhYmxlT3BhY2l0eVxuICogQG5vZmxvd1xuICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIE5vdGUgKGF2aWspOiBhZGQgQGZsb3cgd2hlbiBGbG93IHN1cHBvcnRzIHNwcmVhZCBwcm9wZXJ0aWVzIGluIHByb3BUeXBlc1xuXG52YXIgQW5pbWF0ZWQgPSByZXF1aXJlKCdBbmltYXRlZCcpO1xudmFyIEVhc2luZyA9IHJlcXVpcmUoJ0Vhc2luZycpO1xudmFyIE5hdGl2ZU1ldGhvZHNNaXhpbiA9IHJlcXVpcmUoJ05hdGl2ZU1ldGhvZHNNaXhpbicpO1xudmFyIFJlYWN0ID0gcmVxdWlyZSgnUmVhY3QnKTtcbnZhciBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG52YXIgVGltZXJNaXhpbiA9IHJlcXVpcmUoJ3JlYWN0LXRpbWVyLW1peGluJyk7XG52YXIgVG91Y2hhYmxlID0gcmVxdWlyZSgnVG91Y2hhYmxlJyk7XG52YXIgVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrID0gcmVxdWlyZSgnVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrJyk7XG5cbnZhciBjcmVhdGVSZWFjdENsYXNzID0gcmVxdWlyZSgnY3JlYXRlLXJlYWN0LWNsYXNzJyk7XG52YXIgZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzID0gcmVxdWlyZSgnZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzJyk7XG52YXIgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnZmxhdHRlblN0eWxlJyk7XG5cbnR5cGUgRXZlbnQgPSBPYmplY3Q7XG5cbnZhciBQUkVTU19SRVRFTlRJT05fT0ZGU0VUID0ge3RvcDogMjAsIGxlZnQ6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMzB9O1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgbWFraW5nIHZpZXdzIHJlc3BvbmQgcHJvcGVybHkgdG8gdG91Y2hlcy5cbiAqIE9uIHByZXNzIGRvd24sIHRoZSBvcGFjaXR5IG9mIHRoZSB3cmFwcGVkIHZpZXcgaXMgZGVjcmVhc2VkLCBkaW1taW5nIGl0LlxuICpcbiAqIE9wYWNpdHkgaXMgY29udHJvbGxlZCBieSB3cmFwcGluZyB0aGUgY2hpbGRyZW4gaW4gYW4gQW5pbWF0ZWQuVmlldywgd2hpY2ggaXNcbiAqIGFkZGVkIHRvIHRoZSB2aWV3IGhpZWFyY2h5LiAgQmUgYXdhcmUgdGhhdCB0aGlzIGNhbiBhZmZlY3QgbGF5b3V0LlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiByZW5kZXJCdXR0b246IGZ1bmN0aW9uKCkge1xuICogICByZXR1cm4gKFxuICogICAgIDxUb3VjaGFibGVPcGFjaXR5IG9uUHJlc3M9e3RoaXMuX29uUHJlc3NCdXR0b259PlxuICogICAgICAgPEltYWdlXG4gKiAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICogICAgICAgICBzb3VyY2U9e3JlcXVpcmUoJy4vbXlCdXR0b24ucG5nJyl9XG4gKiAgICAgICAvPlxuICogICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAqICAgKTtcbiAqIH0sXG4gKiBgYGBcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgUmVhY3ROYXRpdmVXZWJQbGF5ZXJcbiAqIGltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbiAqIGltcG9ydCB7XG4gKiAgIEFwcFJlZ2lzdHJ5LFxuICogICBTdHlsZVNoZWV0LFxuICogICBUb3VjaGFibGVPcGFjaXR5LFxuICogICBUZXh0LFxuICogICBWaWV3LFxuICogfSBmcm9tICdyZWFjdC1uYXRpdmUnXG4gKlxuICogY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAqICAgICBzdXBlcihwcm9wcylcbiAqICAgICB0aGlzLnN0YXRlID0geyBjb3VudDogMCB9XG4gKiAgIH1cbiAqXG4gKiAgIG9uUHJlc3MgPSAoKSA9PiB7XG4gKiAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gKiAgICAgICBjb3VudDogdGhpcy5zdGF0ZS5jb3VudCsxXG4gKiAgICAgfSlcbiAqICAgfVxuICpcbiAqICByZW5kZXIoKSB7XG4gKiAgICByZXR1cm4gKFxuICogICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gKiAgICAgICAgPFRvdWNoYWJsZU9wYWNpdHlcbiAqICAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICogICAgICAgICAgb25QcmVzcz17dGhpcy5vblByZXNzfVxuICogICAgICAgID5cbiAqICAgICAgICAgIDxUZXh0PiBUb3VjaCBIZXJlIDwvVGV4dD5cbiAqICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XG4gKiAgICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuY291bnRDb250YWluZXJdfT5cbiAqICAgICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmNvdW50VGV4dF19PlxuICogICAgICAgICAgICAgeyB0aGlzLnN0YXRlLmNvdW50ICE9PSAwID8gdGhpcy5zdGF0ZS5jb3VudDogbnVsbH1cbiAqICAgICAgICAgICA8L1RleHQ+XG4gKiAgICAgICAgIDwvVmlldz5cbiAqICAgICAgIDwvVmlldz5cbiAqICAgICApXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gKiAgIGNvbnRhaW5lcjoge1xuICogICAgIGZsZXg6IDEsXG4gKiAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICogICAgIHBhZGRpbmdIb3Jpem9udGFsOiAxMFxuICogICB9LFxuICogICBidXR0b246IHtcbiAqICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAqICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjREREREREJyxcbiAqICAgICBwYWRkaW5nOiAxMFxuICogICB9LFxuICogICBjb3VudENvbnRhaW5lcjoge1xuICogICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICogICAgIHBhZGRpbmc6IDEwXG4gKiAgIH0sXG4gKiAgIGNvdW50VGV4dDoge1xuICogICAgIGNvbG9yOiAnI0ZGMDBGRidcbiAqICAgfVxuICogfSlcbiAqXG4gKiBBcHBSZWdpc3RyeS5yZWdpc3RlckNvbXBvbmVudCgnQXBwJywgKCkgPT4gQXBwKVxuICogYGBgXG4gKlxuICovXG52YXIgVG91Y2hhYmxlT3BhY2l0eSA9IGNyZWF0ZVJlYWN0Q2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ1RvdWNoYWJsZU9wYWNpdHknLFxuICBtaXhpbnM6IFtUaW1lck1peGluLCBUb3VjaGFibGUuTWl4aW4sIE5hdGl2ZU1ldGhvZHNNaXhpbl0sXG5cbiAgcHJvcFR5cGVzOiB7XG4gICAgLi4uVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrLnByb3BUeXBlcyxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoYXQgdGhlIG9wYWNpdHkgb2YgdGhlIHdyYXBwZWQgdmlldyBzaG91bGQgYmUgd2hlbiB0b3VjaCBpc1xuICAgICAqIGFjdGl2ZS4gRGVmYXVsdHMgdG8gMC4yLlxuICAgICAqL1xuICAgIGFjdGl2ZU9wYWNpdHk6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogKihBcHBsZSBUViBvbmx5KSogVFYgcHJlZmVycmVkIGZvY3VzIChzZWUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIFZpZXcgY29tcG9uZW50KS5cbiAgICAgKlxuICAgICAqIEBwbGF0Zm9ybSBpb3NcbiAgICAgKi9cbiAgICBoYXNUVlByZWZlcnJlZEZvY3VzOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBBcHBsZSBUViBwYXJhbGxheCBlZmZlY3RzXG4gICAgICovXG4gICAgdHZQYXJhbGxheFByb3BlcnRpZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIH0sXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlT3BhY2l0eTogMC4yLFxuICAgIH07XG4gIH0sXG5cbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udGhpcy50b3VjaGFibGVHZXRJbml0aWFsU3RhdGUoKSxcbiAgICAgIGFuaW06IG5ldyBBbmltYXRlZC5WYWx1ZSh0aGlzLl9nZXRDaGlsZFN0eWxlT3BhY2l0eVdpdGhEZWZhdWx0KCkpLFxuICAgIH07XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyh0aGlzLnByb3BzKTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMpIHtcbiAgICBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMobmV4dFByb3BzKTtcbiAgfSxcblxuICAvKipcbiAgICogQW5pbWF0ZSB0aGUgdG91Y2hhYmxlIHRvIGEgbmV3IG9wYWNpdHkuXG4gICAqL1xuICBzZXRPcGFjaXR5VG86IGZ1bmN0aW9uKHZhbHVlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICBBbmltYXRlZC50aW1pbmcoXG4gICAgICB0aGlzLnN0YXRlLmFuaW0sXG4gICAgICB7XG4gICAgICAgIHRvVmFsdWU6IHZhbHVlLFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogRWFzaW5nLmluT3V0KEVhc2luZy5xdWFkKSxcbiAgICAgICAgdXNlTmF0aXZlRHJpdmVyOiB0cnVlLFxuICAgICAgfVxuICAgICkuc3RhcnQoKTtcbiAgfSxcblxuICAvKipcbiAgICogYFRvdWNoYWJsZS5NaXhpbmAgc2VsZiBjYWxsYmFja3MuIFRoZSBtaXhpbiB3aWxsIGludm9rZSB0aGVzZSBpZiB0aGV5IGFyZVxuICAgKiBkZWZpbmVkIG9uIHlvdXIgY29tcG9uZW50LlxuICAgKi9cbiAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbjogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICBpZiAoZS5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lID09PSAnb25SZXNwb25kZXJHcmFudCcpIHtcbiAgICAgIHRoaXMuX29wYWNpdHlBY3RpdmUoMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX29wYWNpdHlBY3RpdmUoMTUwKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vblByZXNzSW4gJiYgdGhpcy5wcm9wcy5vblByZXNzSW4oZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5fb3BhY2l0eUluYWN0aXZlKDI1MCk7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzT3V0ICYmIHRoaXMucHJvcHMub25QcmVzc091dChlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVQcmVzczogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uUHJlc3MgJiYgdGhpcy5wcm9wcy5vblByZXNzKGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZUxvbmdQcmVzczogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uTG9uZ1ByZXNzICYmIHRoaXMucHJvcHMub25Mb25nUHJlc3MoZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVzc1JldGVudGlvbk9mZnNldCB8fCBQUkVTU19SRVRFTlRJT05fT0ZGU0VUO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldEhpdFNsb3A6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmhpdFNsb3A7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlQcmVzc0luIHx8IDA7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0TG9uZ1ByZXNzRGVsYXlNUzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MgPT09IDAgPyAwIDpcbiAgICAgIHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MgfHwgNTAwO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlQcmVzc091dDtcbiAgfSxcblxuICBfb3BhY2l0eUFjdGl2ZTogZnVuY3Rpb24oZHVyYXRpb246IG51bWJlcikge1xuICAgIHRoaXMuc2V0T3BhY2l0eVRvKHRoaXMucHJvcHMuYWN0aXZlT3BhY2l0eSwgZHVyYXRpb24pO1xuICB9LFxuXG4gIF9vcGFjaXR5SW5hY3RpdmU6IGZ1bmN0aW9uKGR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLnNldE9wYWNpdHlUbyhcbiAgICAgIHRoaXMuX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQoKSxcbiAgICAgIGR1cmF0aW9uXG4gICAgKTtcbiAgfSxcblxuICBfZ2V0Q2hpbGRTdHlsZU9wYWNpdHlXaXRoRGVmYXVsdDogZnVuY3Rpb24oKSB7XG4gICB2YXIgY2hpbGRTdHlsZSA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLnN0eWxlKSB8fCB7fTtcbiAgIHJldHVybiBjaGlsZFN0eWxlLm9wYWNpdHkgPT0gdW5kZWZpbmVkID8gMSA6IGNoaWxkU3R5bGUub3BhY2l0eTtcbiB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgIGFjY2Vzc2libGU9e3RoaXMucHJvcHMuYWNjZXNzaWJsZSAhPT0gZmFsc2V9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbD17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5TGFiZWx9XG4gICAgICAgIGFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlPXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5VHJhaXRzPXt0aGlzLnByb3BzLmFjY2Vzc2liaWxpdHlUcmFpdHN9XG4gICAgICAgIHN0eWxlPXtbdGhpcy5wcm9wcy5zdHlsZSwge29wYWNpdHk6IHRoaXMuc3RhdGUuYW5pbX1dfVxuICAgICAgICBuYXRpdmVJRD17dGhpcy5wcm9wcy5uYXRpdmVJRH1cbiAgICAgICAgdGVzdElEPXt0aGlzLnByb3BzLnRlc3RJRH1cbiAgICAgICAgb25MYXlvdXQ9e3RoaXMucHJvcHMub25MYXlvdXR9XG4gICAgICAgIGlzVFZTZWxlY3RhYmxlPXt0cnVlfVxuICAgICAgICBoYXNUVlByZWZlcnJlZEZvY3VzPXt0aGlzLnByb3BzLmhhc1RWUHJlZmVycmVkRm9jdXN9XG4gICAgICAgIHR2UGFyYWxsYXhQcm9wZXJ0aWVzPXt0aGlzLnByb3BzLnR2UGFyYWxsYXhQcm9wZXJ0aWVzfVxuICAgICAgICBoaXRTbG9wPXt0aGlzLnByb3BzLmhpdFNsb3B9XG4gICAgICAgIG9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXI9e3RoaXMudG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXJ9XG4gICAgICAgIG9uUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0PXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdH1cbiAgICAgICAgb25SZXNwb25kZXJHcmFudD17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudH1cbiAgICAgICAgb25SZXNwb25kZXJNb3ZlPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmV9XG4gICAgICAgIG9uUmVzcG9uZGVyUmVsZWFzZT17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlfVxuICAgICAgICBvblJlc3BvbmRlclRlcm1pbmF0ZT17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGV9PlxuICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAge1RvdWNoYWJsZS5yZW5kZXJEZWJ1Z1ZpZXcoe2NvbG9yOiAnY3lhbicsIGhpdFNsb3A6IHRoaXMucHJvcHMuaGl0U2xvcH0pfVxuICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICk7XG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaGFibGVPcGFjaXR5O1xuIl19