34525bccbc659f1a7b72ad6504a14aba












'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}

var AnimatedValue=require('./AnimatedValue');
var AnimatedWithChildren=require('./AnimatedWithChildren');

var invariant=require('fbjs/lib/invariant');



var _uniqueId=1;var









































AnimatedValueXY=function(_AnimatedWithChildren){_inherits(AnimatedValueXY,_AnimatedWithChildren);




function AnimatedValueXY(
valueIn)
{_classCallCheck(this,AnimatedValueXY);var _this=_possibleConstructorReturn(this,(AnimatedValueXY.__proto__||Object.getPrototypeOf(AnimatedValueXY)).call(this));

var value=valueIn||{x:0,y:0};
if(typeof value.x==='number'&&typeof value.y==='number'){
_this.x=new AnimatedValue(value.x);
_this.y=new AnimatedValue(value.y);
}else{
invariant(
value.x instanceof AnimatedValue&&value.y instanceof AnimatedValue,
'AnimatedValueXY must be initalized with an object of numbers or '+
'AnimatedValues.');

_this.x=value.x;
_this.y=value.y;
}
_this._listeners={};return _this;
}_createClass(AnimatedValueXY,[{key:'setValue',value:function setValue(

value){
this.x.setValue(value.x);
this.y.setValue(value.y);
}},{key:'setOffset',value:function setOffset(

offset){
this.x.setOffset(offset.x);
this.y.setOffset(offset.y);
}},{key:'flattenOffset',value:function flattenOffset()

{
this.x.flattenOffset();
this.y.flattenOffset();
}},{key:'extractOffset',value:function extractOffset()

{
this.x.extractOffset();
this.y.extractOffset();
}},{key:'__getValue',value:function __getValue()

{
return{
x:this.x.__getValue(),
y:this.y.__getValue()};

}},{key:'resetAnimation',value:function resetAnimation(

callback){
this.x.resetAnimation();
this.y.resetAnimation();
callback&&callback(this.__getValue());
}},{key:'stopAnimation',value:function stopAnimation(

callback){
this.x.stopAnimation();
this.y.stopAnimation();
callback&&callback(this.__getValue());
}},{key:'addListener',value:function addListener(

callback){var _this2=this;
var id=String(_uniqueId++);
var jointCallback=function jointCallback(_ref){var number=_ref.value;
callback(_this2.__getValue());
};
this._listeners[id]={
x:this.x.addListener(jointCallback),
y:this.y.addListener(jointCallback)};

return id;
}},{key:'removeListener',value:function removeListener(

id){
this.x.removeListener(this._listeners[id].x);
this.y.removeListener(this._listeners[id].y);
delete this._listeners[id];
}},{key:'removeAllListeners',value:function removeAllListeners()

{
this.x.removeAllListeners();
this.y.removeAllListeners();
this._listeners={};
}},{key:'getLayout',value:function getLayout()








{
return{
left:this.x,
top:this.y};

}},{key:'getTranslateTransform',value:function getTranslateTransform()










{
return[{translateX:this.x},{translateY:this.y}];
}}]);return AnimatedValueXY;}(AnimatedWithChildren);


module.exports=AnimatedValueXY;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkVmFsdWVYWS5qcyJdLCJuYW1lcyI6WyJBbmltYXRlZFZhbHVlIiwicmVxdWlyZSIsIkFuaW1hdGVkV2l0aENoaWxkcmVuIiwiaW52YXJpYW50IiwiX3VuaXF1ZUlkIiwiQW5pbWF0ZWRWYWx1ZVhZIiwidmFsdWVJbiIsInZhbHVlIiwieCIsInkiLCJfbGlzdGVuZXJzIiwic2V0VmFsdWUiLCJvZmZzZXQiLCJzZXRPZmZzZXQiLCJmbGF0dGVuT2Zmc2V0IiwiZXh0cmFjdE9mZnNldCIsIl9fZ2V0VmFsdWUiLCJjYWxsYmFjayIsInJlc2V0QW5pbWF0aW9uIiwic3RvcEFuaW1hdGlvbiIsImlkIiwiU3RyaW5nIiwiam9pbnRDYWxsYmFjayIsIm51bWJlciIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJsZWZ0IiwidG9wIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFZQSxhOztBQUVBLEdBQU1BLGVBQWdCQyxRQUFRLGlCQUFSLENBQXRCO0FBQ0EsR0FBTUMsc0JBQXVCRCxRQUFRLHdCQUFSLENBQTdCOztBQUVBLEdBQU1FLFdBQVlGLFFBQVEsb0JBQVIsQ0FBbEI7Ozs7QUFJQSxHQUFJRyxXQUFZLENBQWhCLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBDTUMsZTs7Ozs7QUFLSjtBQUNFQyxPQURGO0FBRUU7O0FBRUEsR0FBTUMsT0FBYUQsU0FBVyxDQUFDRSxFQUFHLENBQUosQ0FBT0MsRUFBRyxDQUFWLENBQTlCO0FBQ0EsR0FBSSxNQUFPRixPQUFNQyxDQUFiLEdBQW1CLFFBQW5CLEVBQStCLE1BQU9ELE9BQU1FLENBQWIsR0FBbUIsUUFBdEQsQ0FBZ0U7QUFDOUQsTUFBS0QsQ0FBTCxDQUFTLEdBQUlSLGNBQUosQ0FBa0JPLE1BQU1DLENBQXhCLENBQVQ7QUFDQSxN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LG9COzs7QUFvSDlCNkIsT0FBT0MsT0FBUCxDQUFpQjNCLGVBQWpCIiwiZmlsZSI6IkFuaW1hdGVkVmFsdWVYWS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQW5pbWF0ZWRWYWx1ZVhZXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEFuaW1hdGVkVmFsdWUgPSByZXF1aXJlKCcuL0FuaW1hdGVkVmFsdWUnKTtcbmNvbnN0IEFuaW1hdGVkV2l0aENoaWxkcmVuID0gcmVxdWlyZSgnLi9BbmltYXRlZFdpdGhDaGlsZHJlbicpO1xuXG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxudHlwZSBWYWx1ZVhZTGlzdGVuZXJDYWxsYmFjayA9ICh2YWx1ZToge3g6IG51bWJlciwgeTogbnVtYmVyfSkgPT4gdm9pZDtcblxubGV0IF91bmlxdWVJZCA9IDE7XG5cbi8qKlxuICogMkQgVmFsdWUgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuICBBbG1vc3QgaWRlbnRpY2FsXG4gKiBBUEkgdG8gbm9ybWFsIGBBbmltYXRlZC5WYWx1ZWAsIGJ1dCBtdWx0aXBsZXhlZC4gIENvbnRhaW5zIHR3byByZWd1bGFyXG4gKiBgQW5pbWF0ZWQuVmFsdWVgcyB1bmRlciB0aGUgaG9vZC5cbiAqXG4gKiAjIyMjIEV4YW1wbGVcbiAqXG4gKmBgYGphdmFzY3JpcHRcbiAqICBjbGFzcyBEcmFnZ2FibGVWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAqICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gKiAgICAgIHN1cGVyKHByb3BzKTtcbiAqICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAqICAgICAgICBwYW46IG5ldyBBbmltYXRlZC5WYWx1ZVhZKCksIC8vIGluaXRzIHRvIHplcm9cbiAqICAgICAgfTtcbiAqICAgICAgdGhpcy5zdGF0ZS5wYW5SZXNwb25kZXIgPSBQYW5SZXNwb25kZXIuY3JlYXRlKHtcbiAqICAgICAgICBvblN0YXJ0U2hvdWxkU2V0UGFuUmVzcG9uZGVyOiAoKSA9PiB0cnVlLFxuICogICAgICAgIG9uUGFuUmVzcG9uZGVyTW92ZTogQW5pbWF0ZWQuZXZlbnQoW251bGwsIHtcbiAqICAgICAgICAgIGR4OiB0aGlzLnN0YXRlLnBhbi54LCAvLyB4LHkgYXJlIEFuaW1hdGVkLlZhbHVlXG4gKiAgICAgICAgICBkeTogdGhpcy5zdGF0ZS5wYW4ueSxcbiAqICAgICAgICB9XSksXG4gKiAgICAgICAgb25QYW5SZXNwb25kZXJSZWxlYXNlOiAoKSA9PiB7XG4gKiAgICAgICAgICBBbmltYXRlZC5zcHJpbmcoXG4gKiAgICAgICAgICAgIHRoaXMuc3RhdGUucGFuLCAgICAgICAgIC8vIEF1dG8tbXVsdGlwbGV4ZWRcbiAqICAgICAgICAgICAge3RvVmFsdWU6IHt4OiAwLCB5OiAwfX0gLy8gQmFjayB0byB6ZXJvXG4gKiAgICAgICAgICApLnN0YXJ0KCk7XG4gKiAgICAgICAgfSxcbiAqICAgICAgfSk7XG4gKiAgICB9XG4gKiAgICByZW5kZXIoKSB7XG4gKiAgICAgIHJldHVybiAoXG4gKiAgICAgICAgPEFuaW1hdGVkLlZpZXdcbiAqICAgICAgICAgIHsuLi50aGlzLnN0YXRlLnBhblJlc3BvbmRlci5wYW5IYW5kbGVyc31cbiAqICAgICAgICAgIHN0eWxlPXt0aGlzLnN0YXRlLnBhbi5nZXRMYXlvdXQoKX0+XG4gKiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAqICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gKiAgICAgICk7XG4gKiAgICB9XG4gKiAgfVxuICpgYGBcbiAqL1xuY2xhc3MgQW5pbWF0ZWRWYWx1ZVhZIGV4dGVuZHMgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4ge1xuICB4OiBBbmltYXRlZFZhbHVlO1xuICB5OiBBbmltYXRlZFZhbHVlO1xuICBfbGlzdGVuZXJzOiB7W2tleTogc3RyaW5nXToge3g6IHN0cmluZywgeTogc3RyaW5nfX07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmFsdWVJbj86ID97eDogbnVtYmVyIHwgQW5pbWF0ZWRWYWx1ZSwgeTogbnVtYmVyIHwgQW5pbWF0ZWRWYWx1ZX0sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgdmFsdWU6IGFueSA9IHZhbHVlSW4gfHwge3g6IDAsIHk6IDB9OyAvLyBAZmxvd2ZpeG1lOiBzaG91bGRuJ3QgbmVlZCBgOiBhbnlgXG4gICAgaWYgKHR5cGVvZiB2YWx1ZS54ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUueSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMueCA9IG5ldyBBbmltYXRlZFZhbHVlKHZhbHVlLngpO1xuICAgICAgdGhpcy55ID0gbmV3IEFuaW1hdGVkVmFsdWUodmFsdWUueSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdmFsdWUueCBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWUgJiYgdmFsdWUueSBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWUsXG4gICAgICAgICdBbmltYXRlZFZhbHVlWFkgbXVzdCBiZSBpbml0YWxpemVkIHdpdGggYW4gb2JqZWN0IG9mIG51bWJlcnMgb3IgJyArXG4gICAgICAgICAgJ0FuaW1hdGVkVmFsdWVzLicsXG4gICAgICApO1xuICAgICAgdGhpcy54ID0gdmFsdWUueDtcbiAgICAgIHRoaXMueSA9IHZhbHVlLnk7XG4gICAgfVxuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWU6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0pIHtcbiAgICB0aGlzLnguc2V0VmFsdWUodmFsdWUueCk7XG4gICAgdGhpcy55LnNldFZhbHVlKHZhbHVlLnkpO1xuICB9XG5cbiAgc2V0T2Zmc2V0KG9mZnNldDoge3g6IG51bWJlciwgeTogbnVtYmVyfSkge1xuICAgIHRoaXMueC5zZXRPZmZzZXQob2Zmc2V0LngpO1xuICAgIHRoaXMueS5zZXRPZmZzZXQob2Zmc2V0LnkpO1xuICB9XG5cbiAgZmxhdHRlbk9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnguZmxhdHRlbk9mZnNldCgpO1xuICAgIHRoaXMueS5mbGF0dGVuT2Zmc2V0KCk7XG4gIH1cblxuICBleHRyYWN0T2Zmc2V0KCk6IHZvaWQge1xuICAgIHRoaXMueC5leHRyYWN0T2Zmc2V0KCk7XG4gICAgdGhpcy55LmV4dHJhY3RPZmZzZXQoKTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWUoKToge3g6IG51bWJlciwgeTogbnVtYmVyfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHRoaXMueC5fX2dldFZhbHVlKCksXG4gICAgICB5OiB0aGlzLnkuX19nZXRWYWx1ZSgpLFxuICAgIH07XG4gIH1cblxuICByZXNldEFuaW1hdGlvbihjYWxsYmFjaz86ICh2YWx1ZToge3g6IG51bWJlciwgeTogbnVtYmVyfSkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMueC5yZXNldEFuaW1hdGlvbigpO1xuICAgIHRoaXMueS5yZXNldEFuaW1hdGlvbigpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIHN0b3BBbmltYXRpb24oY2FsbGJhY2s/OiAodmFsdWU6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnguc3RvcEFuaW1hdGlvbigpO1xuICAgIHRoaXMueS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICB9XG5cbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2s6IFZhbHVlWFlMaXN0ZW5lckNhbGxiYWNrKTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IFN0cmluZyhfdW5pcXVlSWQrKyk7XG4gICAgY29uc3Qgam9pbnRDYWxsYmFjayA9ICh7dmFsdWU6IG51bWJlcn0pID0+IHtcbiAgICAgIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgICB9O1xuICAgIHRoaXMuX2xpc3RlbmVyc1tpZF0gPSB7XG4gICAgICB4OiB0aGlzLnguYWRkTGlzdGVuZXIoam9pbnRDYWxsYmFjayksXG4gICAgICB5OiB0aGlzLnkuYWRkTGlzdGVuZXIoam9pbnRDYWxsYmFjayksXG4gICAgfTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICByZW1vdmVMaXN0ZW5lcihpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy54LnJlbW92ZUxpc3RlbmVyKHRoaXMuX2xpc3RlbmVyc1tpZF0ueCk7XG4gICAgdGhpcy55LnJlbW92ZUxpc3RlbmVyKHRoaXMuX2xpc3RlbmVyc1tpZF0ueSk7XG4gICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tpZF07XG4gIH1cblxuICByZW1vdmVBbGxMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgdGhpcy54LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMueS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBge3gsIHl9YCBpbnRvIGB7bGVmdCwgdG9wfWAgZm9yIHVzZSBpbiBzdHlsZSwgZS5nLlxuICAgKlxuICAgKmBgYGphdmFzY3JpcHRcbiAgICogIHN0eWxlPXt0aGlzLnN0YXRlLmFuaW0uZ2V0TGF5b3V0KCl9XG4gICAqYGBgXG4gICAqL1xuICBnZXRMYXlvdXQoKToge1trZXk6IHN0cmluZ106IEFuaW1hdGVkVmFsdWV9IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogdGhpcy54LFxuICAgICAgdG9wOiB0aGlzLnksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBge3gsIHl9YCBpbnRvIGEgdXNlYWJsZSB0cmFuc2xhdGlvbiB0cmFuc2Zvcm0sIGUuZy5cbiAgICpcbiAgICpgYGBqYXZhc2NyaXB0XG4gICAqICBzdHlsZT17e1xuICAgKiAgICB0cmFuc2Zvcm06IHRoaXMuc3RhdGUuYW5pbS5nZXRUcmFuc2xhdGVUcmFuc2Zvcm0oKVxuICAgKiAgfX1cbiAgICpgYGBcbiAgICovXG4gIGdldFRyYW5zbGF0ZVRyYW5zZm9ybSgpOiBBcnJheTx7W2tleTogc3RyaW5nXTogQW5pbWF0ZWRWYWx1ZX0+IHtcbiAgICByZXR1cm4gW3t0cmFuc2xhdGVYOiB0aGlzLnh9LCB7dHJhbnNsYXRlWTogdGhpcy55fV07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRlZFZhbHVlWFk7XG4iXX0=